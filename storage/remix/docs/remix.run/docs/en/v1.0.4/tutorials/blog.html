<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/><link rel="icon" href="../../../../favicon-light.1.png" type="image/png" media="(prefers-color-scheme: light)"/><link rel="icon" href="../../../../favicon-dark.1.png" type="image/png" media="(prefers-color-scheme: dark)"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&amp;family=Source+Code+Pro:wght@400;600&amp;display=auto" rel="stylesheet"/><title>Remix | Developer Blog</title><meta name="description"/><link rel="preload" as="font" href="../../../../font/founders-grotesk-bold.woff2" crossorigin="anonymous"/><link rel="stylesheet" href="../../../../build/_assets/tailwind-XN5LJQWA.css"/><link rel="stylesheet" href="../../../../build/_assets/bailwind-QVFUVIGW.css"/><link rel="stylesheet" href="../../../../build/_assets/docs-TIR56M2J.css"/></head><body x-comp="Body" class="min-h-screen flex flex-col w-full overflow-x-hidden bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-200 undefined"><div class="lg:flex lg:h-full px-6"><div class="lg:hidden"><div class="absolute top-6 right-6"><a href="../../v1.0.4.html"><svg x-comp="Wordmark" height="24" viewBox="0 0 659 165" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Remix Logo</title><path fill-rule="evenodd" clip-rule="evenodd" d="M133.85 124.16C135.3 142.762 135.3 151.482 135.3 161H92.2283C92.2283 158.927 92.2653 157.03 92.3028 155.107C92.4195 149.128 92.5411 142.894 91.5717 130.304C90.2905 111.872 82.3473 107.776 67.7419 107.776H54.8021H0V74.24H69.7918C88.2407 74.24 97.4651 68.632 97.4651 53.784C97.4651 40.728 88.2407 32.816 69.7918 32.816H0V0H77.4788C119.245 0 140 19.712 140 51.2C140 74.752 125.395 90.112 105.665 92.672C122.32 96 132.057 105.472 133.85 124.16Z" fill="currentColor"></path><path d="M0 161V136H45.5416C53.1486 136 54.8003 141.638 54.8003 145V161H0Z" fill="currentColor"></path><path d="M654.54 47.1035H611.788L592.332 74.2395L573.388 47.1035H527.564L568.78 103.168L523.98 161.28H566.732L589.516 130.304L612.3 161.28H658.124L613.068 101.376L654.54 47.1035Z" fill="url(#paint0_linear)"></path><path d="M654.54 47.1035H611.788L592.332 74.2395L573.388 47.1035H527.564L568.78 103.168L523.98 161.28H566.732L589.516 130.304L612.3 161.28H658.124L613.068 101.376L654.54 47.1035Z" fill="currentColor"></path><path d="M229.43 120.576C225.59 129.536 218.422 133.376 207.158 133.376C194.614 133.376 184.374 126.72 183.35 112.64H263.478V101.12C263.478 70.1437 243.254 44.0317 205.11 44.0317C169.526 44.0317 142.902 69.8877 142.902 105.984C142.902 142.336 169.014 164.352 205.622 164.352C235.83 164.352 256.822 149.76 262.71 123.648L229.43 120.576ZM183.862 92.6717C185.398 81.9197 191.286 73.7277 204.598 73.7277C216.886 73.7277 223.542 82.4317 224.054 92.6717H183.862Z" fill="url(#paint1_linear)"></path><path d="M229.43 120.576C225.59 129.536 218.422 133.376 207.158 133.376C194.614 133.376 184.374 126.72 183.35 112.64H263.478V101.12C263.478 70.1437 243.254 44.0317 205.11 44.0317C169.526 44.0317 142.902 69.8877 142.902 105.984C142.902 142.336 169.014 164.352 205.622 164.352C235.83 164.352 256.822 149.76 262.71 123.648L229.43 120.576ZM183.862 92.6717C185.398 81.9197 191.286 73.7277 204.598 73.7277C216.886 73.7277 223.542 82.4317 224.054 92.6717H183.862Z" fill="currentColor"></path><path d="M385.256 66.5597C380.392 53.2477 369.896 44.0317 349.672 44.0317C332.52 44.0317 320.232 51.7117 314.088 64.2557V47.1037H272.616V161.28H314.088V105.216C314.088 88.0638 318.952 76.7997 332.52 76.7997C345.064 76.7997 348.136 84.9917 348.136 100.608V161.28H389.608V105.216C389.608 88.0638 394.216 76.7997 408.04 76.7997C420.584 76.7997 423.4 84.9917 423.4 100.608V161.28H464.872V89.5997C464.872 65.7917 455.656 44.0317 424.168 44.0317C404.968 44.0317 391.4 53.7597 385.256 66.5597Z" fill="url(#paint2_linear)"></path><path d="M385.256 66.5597C380.392 53.2477 369.896 44.0317 349.672 44.0317C332.52 44.0317 320.232 51.7117 314.088 64.2557V47.1037H272.616V161.28H314.088V105.216C314.088 88.0638 318.952 76.7997 332.52 76.7997C345.064 76.7997 348.136 84.9917 348.136 100.608V161.28H389.608V105.216C389.608 88.0638 394.216 76.7997 408.04 76.7997C420.584 76.7997 423.4 84.9917 423.4 100.608V161.28H464.872V89.5997C464.872 65.7917 455.656 44.0317 424.168 44.0317C404.968 44.0317 391.4 53.7597 385.256 66.5597Z" fill="currentColor"></path><path d="M478.436 47.104V161.28H519.908V47.104H478.436ZM478.18 36.352H520.164V0H478.18V36.352Z" fill="url(#paint3_linear)"></path><path d="M478.436 47.104V161.28H519.908V47.104H478.436ZM478.18 36.352H520.164V0H478.18V36.352Z" fill="currentColor"></path><defs><linearGradient id="paint0_linear" x1="591.052" y1="47.1035" x2="591.052" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint1_linear" x1="203.19" y1="44.0317" x2="203.19" y2="164.352" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint2_linear" x1="368.744" y1="44.0317" x2="368.744" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint3_linear" x1="499.172" y1="0" x2="499.172" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient></defs></svg></a></div><details><summary class="pb-4 pt-6 cursor-pointer">Docs Navigation</summary><div><nav class="md-nav py-6 text-d-p-sm font-medium"><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="1"><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading pt-0">Tutorials</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a aria-current="page" class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2 md-nav-item--active" href="blog.html">Developer Blog</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="jokes.html">Jokes App</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">API</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../api/conventions.html">Conventions</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../api/remix.html">Remix Package</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">Other API</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/dev.html">@remix-run/dev (CLI)</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/adapter.html">@remix-run/{adapter}</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/node.html">@remix-run/node</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/serve.html">@remix-run/serve</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/constraints.html">Module Constraints</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/react-router.html">React Router v6</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/fetch.html">Web Fetch API</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">Guides</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/accessibility.html">Accessibility</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/api-routes.html">API Routes</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/data-writes.html">Data Writes</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/disabling-javascript.html">Disabling JavaScript</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/envvars.html">Environment Variables</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/errors.html">Error Handling</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/mdx.html">MDX</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/not-found.html">Not Found Handling</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/optimistic-ui.html">Optimistic UI</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/performance.html">Performance</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/philosophy.html">Philosophy</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/resource-routes.html">Resource Routes</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/routing.html">Routing</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/styling.html">Styling</a></li></ul></li><li data-dir="" data-level="1"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading" href="../contributing.html">Contributing</a></li></ul></nav></div></details><hr class="mb-4"/></div><div class="flex-shrink-0 hidden lg:block"><div class="h-full max-h-screen overflow-x-hidden overflow-y-auto w-64 xl:w-80 2xl:w-96 sticky top-0 py-10 pl-6 pr-3 xl:pr-5 2xl:pr-6"><a href="../../v1.0.4.html"><svg x-comp="Wordmark" height="24" viewBox="0 0 659 165" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Remix Logo</title><path fill-rule="evenodd" clip-rule="evenodd" d="M133.85 124.16C135.3 142.762 135.3 151.482 135.3 161H92.2283C92.2283 158.927 92.2653 157.03 92.3028 155.107C92.4195 149.128 92.5411 142.894 91.5717 130.304C90.2905 111.872 82.3473 107.776 67.7419 107.776H54.8021H0V74.24H69.7918C88.2407 74.24 97.4651 68.632 97.4651 53.784C97.4651 40.728 88.2407 32.816 69.7918 32.816H0V0H77.4788C119.245 0 140 19.712 140 51.2C140 74.752 125.395 90.112 105.665 92.672C122.32 96 132.057 105.472 133.85 124.16Z" fill="currentColor"></path><path d="M0 161V136H45.5416C53.1486 136 54.8003 141.638 54.8003 145V161H0Z" fill="currentColor"></path><path d="M654.54 47.1035H611.788L592.332 74.2395L573.388 47.1035H527.564L568.78 103.168L523.98 161.28H566.732L589.516 130.304L612.3 161.28H658.124L613.068 101.376L654.54 47.1035Z" fill="url(#paint0_linear)"></path><path d="M654.54 47.1035H611.788L592.332 74.2395L573.388 47.1035H527.564L568.78 103.168L523.98 161.28H566.732L589.516 130.304L612.3 161.28H658.124L613.068 101.376L654.54 47.1035Z" fill="currentColor"></path><path d="M229.43 120.576C225.59 129.536 218.422 133.376 207.158 133.376C194.614 133.376 184.374 126.72 183.35 112.64H263.478V101.12C263.478 70.1437 243.254 44.0317 205.11 44.0317C169.526 44.0317 142.902 69.8877 142.902 105.984C142.902 142.336 169.014 164.352 205.622 164.352C235.83 164.352 256.822 149.76 262.71 123.648L229.43 120.576ZM183.862 92.6717C185.398 81.9197 191.286 73.7277 204.598 73.7277C216.886 73.7277 223.542 82.4317 224.054 92.6717H183.862Z" fill="url(#paint1_linear)"></path><path d="M229.43 120.576C225.59 129.536 218.422 133.376 207.158 133.376C194.614 133.376 184.374 126.72 183.35 112.64H263.478V101.12C263.478 70.1437 243.254 44.0317 205.11 44.0317C169.526 44.0317 142.902 69.8877 142.902 105.984C142.902 142.336 169.014 164.352 205.622 164.352C235.83 164.352 256.822 149.76 262.71 123.648L229.43 120.576ZM183.862 92.6717C185.398 81.9197 191.286 73.7277 204.598 73.7277C216.886 73.7277 223.542 82.4317 224.054 92.6717H183.862Z" fill="currentColor"></path><path d="M385.256 66.5597C380.392 53.2477 369.896 44.0317 349.672 44.0317C332.52 44.0317 320.232 51.7117 314.088 64.2557V47.1037H272.616V161.28H314.088V105.216C314.088 88.0638 318.952 76.7997 332.52 76.7997C345.064 76.7997 348.136 84.9917 348.136 100.608V161.28H389.608V105.216C389.608 88.0638 394.216 76.7997 408.04 76.7997C420.584 76.7997 423.4 84.9917 423.4 100.608V161.28H464.872V89.5997C464.872 65.7917 455.656 44.0317 424.168 44.0317C404.968 44.0317 391.4 53.7597 385.256 66.5597Z" fill="url(#paint2_linear)"></path><path d="M385.256 66.5597C380.392 53.2477 369.896 44.0317 349.672 44.0317C332.52 44.0317 320.232 51.7117 314.088 64.2557V47.1037H272.616V161.28H314.088V105.216C314.088 88.0638 318.952 76.7997 332.52 76.7997C345.064 76.7997 348.136 84.9917 348.136 100.608V161.28H389.608V105.216C389.608 88.0638 394.216 76.7997 408.04 76.7997C420.584 76.7997 423.4 84.9917 423.4 100.608V161.28H464.872V89.5997C464.872 65.7917 455.656 44.0317 424.168 44.0317C404.968 44.0317 391.4 53.7597 385.256 66.5597Z" fill="currentColor"></path><path d="M478.436 47.104V161.28H519.908V47.104H478.436ZM478.18 36.352H520.164V0H478.18V36.352Z" fill="url(#paint3_linear)"></path><path d="M478.436 47.104V161.28H519.908V47.104H478.436ZM478.18 36.352H520.164V0H478.18V36.352Z" fill="currentColor"></path><defs><linearGradient id="paint0_linear" x1="591.052" y1="47.1035" x2="591.052" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint1_linear" x1="203.19" y1="44.0317" x2="203.19" y2="164.352" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint2_linear" x1="368.744" y1="44.0317" x2="368.744" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint3_linear" x1="499.172" y1="0" x2="499.172" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient></defs></svg></a><div class="h-8"></div><nav class="md-nav"><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="1"><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading pt-0">Tutorials</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a aria-current="page" class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2 md-nav-item--active" href="blog.html">Developer Blog</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="jokes.html">Jokes App</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">API</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../api/conventions.html">Conventions</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../api/remix.html">Remix Package</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">Other API</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/dev.html">@remix-run/dev (CLI)</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/adapter.html">@remix-run/{adapter}</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/node.html">@remix-run/node</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/serve.html">@remix-run/serve</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/constraints.html">Module Constraints</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/react-router.html">React Router v6</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/fetch.html">Web Fetch API</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">Guides</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/accessibility.html">Accessibility</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/api-routes.html">API Routes</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/data-writes.html">Data Writes</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/disabling-javascript.html">Disabling JavaScript</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/envvars.html">Environment Variables</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/errors.html">Error Handling</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/mdx.html">MDX</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/not-found.html">Not Found Handling</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/optimistic-ui.html">Optimistic UI</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/performance.html">Performance</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/philosophy.html">Philosophy</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/resource-routes.html">Resource Routes</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/routing.html">Routing</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../guides/styling.html">Styling</a></li></ul></li><li data-dir="" data-level="1"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading" href="../contributing.html">Contributing</a></li></ul></nav></div></div><div class="lg:z-[1] flex-grow lg:h-full"><div class="py-6 md:py-8 lg:py-10 lg:pr-6 lg:pl-3 xl:pl-5 2xl:pl-6"><div><div class="markdown has-toc"><div class="md-toc-container"><div class="md-toc-nav" role="navigation"><ul class="toc">
<li>
<p><a href="blog.html#quickstart">Quickstart</a></p>
<ul>
<li><a href="blog.html#creating-the-project">Creating the project</a></li>
<li><a href="blog.html#your-first-route">Your First Route</a></li>
<li><a href="blog.html#loading-data">Loading Data</a></li>
<li><a href="blog.html#a-little-refactoring">A little refactoring</a></li>
<li><a href="blog.html#pulling-from-a-data-source">Pulling from a data source</a></li>
<li><a href="blog.html#dynamic-route-params">Dynamic Route Params</a></li>
<li><a href="blog.html#creating-blog-posts">Creating Blog Posts</a></li>
<li><a href="blog.html#index-routes">Index Routes</a></li>
<li><a href="blog.html#actions">Actions</a></li>
</ul>
</li>
</ul></div><div class="md-prose"><h1 id="quickstart"><a href="blog.html#quickstart" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Quickstart</h1><p>We're going to be short on words and quick on code in this quickstart. If you're looking to see what Remix is all about in 15 minutes, this is it.</p><p><docs-info>ðŸ’¿ Hey I'm Derrick the Remix Compact Disk ðŸ‘‹ Whenever you're supposed to <em>do</em> something you'll see me</docs-info></p><p>This uses TypeScript, but we always pepper the types on after we write the code. This isn't our normal workflow, but some of you aren't using TypeScript so we didn't want to clutter up the code for you. Normally we create the type as we write the code so that we get it right the first time (measure twice, but once!).</p><h2 id="creating-the-project"><a href="blog.html#creating-the-project" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Creating the project</h2><p>ðŸ’¿ Initialize a new Remix project</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">npx create-remix@latest
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base03)"># follow the prompts</span>
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0D)">cd</span> [whatever you named the project]
</span><span class="codeblock-line" data-line-number="4">npm run dev
</span></code></pre></div><p>Open up <a href="https://localhost:3000">https://localhost:3000</a>, the app should be running. If you want, take a minute and poke around the starter template, there's a lot of information in there.</p><h2 id="your-first-route"><a href="blog.html#your-first-route" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Your First Route</h2><p>We're going to make a new route to render at the "/posts" URL. Before we do that, let's link to it.</p><p>There's a bit going on in the file, find into the <code>Layout</code> component and right after the link to "Home", add a new link to "/posts"</p><p>ðŸ’¿ Add a link to posts in <code>app/root.tsx</code></p><div><pre data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">&#x3C;<span style="color: var(--base08)">li</span>>
</span><span class="codeblock-line" data-line-number="2">  &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">/posts</span>">Posts&#x3C;/<span style="color: var(--base0A)">Link</span>>
</span><span class="codeblock-line" data-line-number="3">&#x3C;/<span style="color: var(--base08)">li</span>>
</span></code></pre></div><p>Back in the browser you should see your new link in the header. Go ahead and click it, you should see a 404 page. Let's create the route now:</p><p>ðŸ’¿ Create a new file in <code>app/routes/posts/index.tsx</code></p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">mkdir app/routes/posts
</span><span class="codeblock-line" data-line-number="2">touch app/routes/posts/index.tsx
</span></code></pre></div><p><docs-info>Any time you see terminal commands to create files or folders, you can of course do that however you'd like, but using <code>mkdir</code> and <code>touch</code> is just a way for us to make it clear which files you should be creating.</docs-info></p><p>We could have named it just <code>posts.tsx</code> but we'll have another route soon and it'll be nice to put them by each other. An index route will render at the folder's path (just like index.html on a web server).</p><p>You'll probably see the screen just go blank with <code>null</code>. You've got a route but there's nothing there yet. Let's add a component and export it as the default:</p><p>ðŸ’¿ Make the posts component</p><div><pre data-filename="app/routes/posts/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Posts</span>() {
</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="3">    &#x3C;<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="4">      &#x3C;<span style="color: var(--base08)">h1</span>>Posts&#x3C;/<span style="color: var(--base08)">h1</span>>
</span><span class="codeblock-line" data-line-number="5">    &#x3C;/<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="6">  );
</span><span class="codeblock-line" data-line-number="7">}
</span></code></pre></div><p>You might need to refresh the browser to see our new, bare-bones posts route.</p><h2 id="loading-data"><a href="blog.html#loading-data" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Loading Data</h2><p>Data loading is built in to Remix.</p><p>If your web dev background is primarily in the last few years you're probably used to creating two things here: an API route to provide data and a frontend component that consumes it. In Remix your frontend component is also it's own API route and it already knows how to talk to itself on the server from the browser. That is, you don't have to fetch it.</p><p>If your background is a bit farther back than that with Rails, PHP, etc. Then you can think of your Remix routes as backend views using React for templating, but then they know how to seamlessly hydrate in the browser to add some flair. It's progressive enhacement realized in its fullest.</p><p>So let's get to it and provide some data to our component.</p><p>ðŸ’¿ Make the posts route "loader"</p><div><pre data-filename="app/routes/posts/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2">
</span><span class="codeblock-line" data-highlight="true" data-line-number="3"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span> <span style="color: var(--base0E)">=</span> () <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base0E)">return</span> [
</span><span class="codeblock-line" data-highlight="true" data-line-number="5">    {
</span><span class="codeblock-line" data-highlight="true" data-line-number="6">      slug: "<span style="color: var(--base0B)">my-first-post</span>",
</span><span class="codeblock-line" data-highlight="true" data-line-number="7">      title: "<span style="color: var(--base0B)">My First Post</span>"
</span><span class="codeblock-line" data-highlight="true" data-line-number="8">    },
</span><span class="codeblock-line" data-highlight="true" data-line-number="9">    {
</span><span class="codeblock-line" data-highlight="true" data-line-number="10">      slug: "<span style="color: var(--base0B)">90s-mixtape</span>",
</span><span class="codeblock-line" data-highlight="true" data-line-number="11">      title: "<span style="color: var(--base0B)">A Mixtape I Made Just For You</span>"
</span><span class="codeblock-line" data-highlight="true" data-line-number="12">    }
</span><span class="codeblock-line" data-highlight="true" data-line-number="13">  ];
</span><span class="codeblock-line" data-highlight="true" data-line-number="14">};
</span><span class="codeblock-line" data-line-number="15">
</span><span class="codeblock-line" data-line-number="16"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Posts</span>() {
</span><span class="codeblock-line" data-highlight="true" data-line-number="17">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>();
</span><span class="codeblock-line" data-line-number="18">  <span style="color: var(--base08)">console</span>.<span style="color: var(--base0D)">log</span>(<span style="color: var(--base08)">posts</span>);
</span><span class="codeblock-line" data-line-number="19">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="20">    &#x3C;<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="21">      &#x3C;<span style="color: var(--base08)">h1</span>>Posts&#x3C;/<span style="color: var(--base08)">h1</span>>
</span><span class="codeblock-line" data-line-number="22">    &#x3C;/<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="23">  );
</span><span class="codeblock-line" data-line-number="24">}
</span></code></pre></div><p>Loaders are the backend "API" for their component and it's already wired up for you through <code>useLoaderData</code>. It's a little wild how blurry the line is between the client and the serever in a Remix route. If you have your server and browser consoles both open, you'll note that they both logged our post data. That's because Remix rendered on the server to send a full HTML document like a traditional web framework, but it also hydrated in the client and logged there too.</p><p>ðŸ’¿ Render links to our posts</p><div><pre data-filename="app/routes/posts/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2">
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Posts</span>() {
</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>();
</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="7">    &#x3C;<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="8">      &#x3C;<span style="color: var(--base08)">h1</span>>Posts&#x3C;/<span style="color: var(--base08)">h1</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="9">      &#x3C;<span style="color: var(--base08)">ul</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="10">        <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">posts</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base08)">post</span> <span style="color: var(--base0D)">=></span> (
</span><span class="codeblock-line" data-highlight="true" data-line-number="11">          &#x3C;<span style="color: var(--base08)">li</span> <span style="color: var(--base0D)">key</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="12">            &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base0A)">Link</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="13">          &#x3C;/<span style="color: var(--base08)">li</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="14">        ))<span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-highlight="true" data-line-number="15">      &#x3C;/<span style="color: var(--base08)">ul</span>>
</span><span class="codeblock-line" data-line-number="16">    &#x3C;/<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="17">  );
</span><span class="codeblock-line" data-line-number="18">}
</span></code></pre></div><p>TypeScript is mad, so let's help it out:</p><p>ðŸ’¿ Add the Post type and generic for <code>useLoaderData</code></p><div><pre data-filename="app/routes/posts/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2">
</span><span class="codeblock-line" data-highlight="true" data-line-number="3"><span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">Post</span> <span style="color: var(--base0E)">=</span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="5">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="6">};
</span><span class="codeblock-line" data-line-number="7">
</span><span class="codeblock-line" data-line-number="8"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span> <span style="color: var(--base0E)">=</span> () <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="9">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">Post</span>[] <span style="color: var(--base0E)">=</span> [
</span><span class="codeblock-line" data-line-number="10">    {
</span><span class="codeblock-line" data-line-number="11">      slug: "<span style="color: var(--base0B)">my-first-post</span>",
</span><span class="codeblock-line" data-line-number="12">      title: "<span style="color: var(--base0B)">My First Post</span>"
</span><span class="codeblock-line" data-line-number="13">    },
</span><span class="codeblock-line" data-line-number="14">    {
</span><span class="codeblock-line" data-line-number="15">      slug: "<span style="color: var(--base0B)">90s-mixtape</span>",
</span><span class="codeblock-line" data-line-number="16">      title: "<span style="color: var(--base0B)">A Mixtape I Made Just For You</span>"
</span><span class="codeblock-line" data-line-number="17">    }
</span><span class="codeblock-line" data-line-number="18">  ];
</span><span class="codeblock-line" data-highlight="true" data-line-number="19">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">posts</span>;
</span><span class="codeblock-line" data-line-number="20">};
</span><span class="codeblock-line" data-line-number="21">
</span><span class="codeblock-line" data-line-number="22"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Posts</span>() {
</span><span class="codeblock-line" data-highlight="true" data-line-number="23">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>&#x3C;<span style="color: var(--base0A)">Post</span>[]>();
</span><span class="codeblock-line" data-line-number="24">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="25">    &#x3C;<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="26">      &#x3C;<span style="color: var(--base08)">h1</span>>Posts&#x3C;/<span style="color: var(--base08)">h1</span>>
</span><span class="codeblock-line" data-line-number="27">      &#x3C;<span style="color: var(--base08)">ul</span>>
</span><span class="codeblock-line" data-line-number="28">        <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">posts</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base08)">post</span> <span style="color: var(--base0D)">=></span> (
</span><span class="codeblock-line" data-line-number="29">          &#x3C;<span style="color: var(--base08)">li</span> <span style="color: var(--base0D)">key</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>>
</span><span class="codeblock-line" data-line-number="30">            &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base0A)">Link</span>>
</span><span class="codeblock-line" data-line-number="31">          &#x3C;/<span style="color: var(--base08)">li</span>>
</span><span class="codeblock-line" data-line-number="32">        ))<span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-line-number="33">      &#x3C;/<span style="color: var(--base08)">ul</span>>
</span><span class="codeblock-line" data-line-number="34">    &#x3C;/<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="35">  );
</span><span class="codeblock-line" data-line-number="36">}
</span></code></pre></div><p>Hey, that's pretty cool. We get a pretty solid degree of type safety even over a network request because it's all defined in the same file. Unless the network blows up while Remix fetches the data, you've got type safety in this component and it's API (remember, the component is already its own API route).</p><h2 id="a-little-refactoring"><a href="blog.html#a-little-refactoring" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>A little refactoring</h2><p>A solid practice is to create a module that deals with a particular concern. In our case it's going to be reading and writing posts. Let's set that up now and add a <code>getPosts</code> export to our module.</p><p>ðŸ’¿ Create <code>app/post.ts</code></p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">touch app/post.ts
</span></code></pre></div><p>We're mostly gonna copy/paste it from our route:</p><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">Post</span> <span style="color: var(--base0E)">=</span> {
</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-line-number="4">};
</span><span class="codeblock-line" data-line-number="5">
</span><span class="codeblock-line" data-line-number="6"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">getPosts</span>() {
</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">Post</span>[] <span style="color: var(--base0E)">=</span> [
</span><span class="codeblock-line" data-line-number="8">    {
</span><span class="codeblock-line" data-line-number="9">      slug: "<span style="color: var(--base0B)">my-first-post</span>",
</span><span class="codeblock-line" data-line-number="10">      title: "<span style="color: var(--base0B)">My First Post</span>"
</span><span class="codeblock-line" data-line-number="11">    },
</span><span class="codeblock-line" data-line-number="12">    {
</span><span class="codeblock-line" data-line-number="13">      slug: "<span style="color: var(--base0B)">90s-mixtape</span>",
</span><span class="codeblock-line" data-line-number="14">      title: "<span style="color: var(--base0B)">A Mixtape I Made Just For You</span>"
</span><span class="codeblock-line" data-line-number="15">    }
</span><span class="codeblock-line" data-line-number="16">  ];
</span><span class="codeblock-line" data-line-number="17">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">posts</span>;
</span><span class="codeblock-line" data-line-number="18">}
</span></code></pre></div><p>ðŸ’¿ Update the posts route to use our new posts module</p><div><pre data-filename="app/routes/posts/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">getPosts</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/posts</span>";
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">Post</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/posts</span>";
</span><span class="codeblock-line" data-line-number="4">
</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span> <span style="color: var(--base0E)">=</span> () <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">getPosts</span>();
</span><span class="codeblock-line" data-line-number="7">};
</span><span class="codeblock-line" data-line-number="8">
</span><span class="codeblock-line" data-line-number="9"><span style="color: var(--base03)">// ...</span>
</span></code></pre></div><h2 id="pulling-from-a-data-source"><a href="blog.html#pulling-from-a-data-source" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Pulling from a data source</h2><p>If we were building this for real, we'd want to store our posts in a database somewhere like Postgres, FauanaDB, Supabase, etc. This is a quickstart, so we're just going to use the file system.</p><p>Instead of hard-coding our links, we'll read them from the file system.</p><p>ðŸ’¿ Create a "posts/" folder in the root of the project, not in the app directory, but next to it.</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">mkdir posts
</span></code></pre></div><p>Now add some posts:</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">touch posts/my-first-post.md
</span><span class="codeblock-line" data-line-number="2">touch posts/90s-mixtape.md
</span></code></pre></div><p>Put whatever you want in them, but make sure they've got some "front matter" attributes in them with a title</p><div><pre data-filename="posts/my-first-post.md" data-line-numbers="true" data-lang="md" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0C)">---</span>
</span><span class="codeblock-line" data-line-number="2">title: My First Post
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0B)">---</span>
</span><span class="codeblock-line" data-line-number="4">
</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0D)">#</span><span style="color: var(--base0B)"> </span><span style="color: var(--base0A)">This is my first post</span>
</span><span class="codeblock-line" data-line-number="6">
</span><span class="codeblock-line" data-line-number="7">Isn't it great?
</span></code></pre></div><div><pre data-filename="posts/90s-mix-cdr.md" data-line-numbers="true" data-lang="md" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0C)">---</span>
</span><span class="codeblock-line" data-line-number="2">title: 90s Mixtape
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0B)">---</span>
</span><span class="codeblock-line" data-line-number="4">
</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0D)">#</span><span style="color: var(--base0B)"> </span><span style="color: var(--base0A)">90s Mixtape</span>
</span><span class="codeblock-line" data-line-number="6">
</span><span class="codeblock-line" data-line-number="7">- I wish (Skee-Lo)
</span><span class="codeblock-line" data-line-number="8">- This Is How We Do It (Montell Jordan)
</span><span class="codeblock-line" data-line-number="9">- Everlong (Foo Fighters)
</span><span class="codeblock-line" data-line-number="10">- Ms. Jackson (Outkast)
</span><span class="codeblock-line" data-line-number="11">- Interstate Love Song (Stone Temple Pilots)
</span><span class="codeblock-line" data-line-number="12">- Killing Me Softely With His Song (Fugees, Ms. Lauryn Hill)
</span><span class="codeblock-line" data-line-number="13">- Just a Friend (Biz Markie)
</span><span class="codeblock-line" data-line-number="14">- The Man Who Sold The World (Nirvana)
</span><span class="codeblock-line" data-line-number="15">- Semi-Charmed Lif (Third Eye Blind)
</span><span class="codeblock-line" data-line-number="16">- ...Baby One More Time (Britney Spears)
</span><span class="codeblock-line" data-line-number="17">- Better Man (Pearl Jam)
</span><span class="codeblock-line" data-line-number="18">- It's All Coming Back to Me Now (CÃ©line Dion)
</span><span class="codeblock-line" data-line-number="19">- This Kiss (Faith Hill)
</span><span class="codeblock-line" data-line-number="20">- Fly Away (Lenny Kravits)
</span><span class="codeblock-line" data-line-number="21">- Scar Tissue (Red Hot Chili Peppers)
</span><span class="codeblock-line" data-line-number="22">- Santa Monica (Everclear)
</span><span class="codeblock-line" data-line-number="23">- C'mon N' Ride it (Quad City DJ's)
</span></code></pre></div><p>ðŸ’¿ Update <code>getPosts</code> to read from the file system</p><p>We'll need a node module for this:</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">npm add front-matter
</span></code></pre></div><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">path</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">path</span>";
</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">fs</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">fs/promises</span>";
</span><span class="codeblock-line" data-highlight="true" data-line-number="3"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">parseFrontMatter</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">front-matter</span>";
</span><span class="codeblock-line" data-line-number="4">
</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">Post</span> <span style="color: var(--base0E)">=</span> {
</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-line-number="8">};
</span><span class="codeblock-line" data-line-number="9">
</span><span class="codeblock-line" data-highlight="true" data-line-number="10"><span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">postsPath</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">__dirname</span>, "<span style="color: var(--base0B)">../posts</span>");
</span><span class="codeblock-line" data-line-number="11">
</span><span class="codeblock-line" data-line-number="12"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">getPosts</span>() {
</span><span class="codeblock-line" data-highlight="true" data-line-number="13">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">dir</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readdir</span>(<span style="color: var(--base08)">postsPath</span>);
</span><span class="codeblock-line" data-highlight="true" data-line-number="14">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0A)">Promise</span>.<span style="color: var(--base0D)">all</span>(
</span><span class="codeblock-line" data-highlight="true" data-line-number="15">    <span style="color: var(--base08)">dir</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base0E)">async</span> <span style="color: var(--base08)">filename</span> <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="16">      <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">file</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readFile</span>(
</span><span class="codeblock-line" data-highlight="true" data-line-number="17">        <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">filename</span>)
</span><span class="codeblock-line" data-highlight="true" data-line-number="18">      );
</span><span class="codeblock-line" data-highlight="true" data-line-number="19">      <span style="color: var(--base0A)">let</span> { <span style="color: var(--base08)">attributes</span> } <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">parseFrontMatter</span>(
</span><span class="codeblock-line" data-highlight="true" data-line-number="20">        <span style="color: var(--base08)">file</span>.<span style="color: var(--base0D)">toString</span>()
</span><span class="codeblock-line" data-highlight="true" data-line-number="21">      );
</span><span class="codeblock-line" data-highlight="true" data-line-number="22">      <span style="color: var(--base0E)">return</span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="23">        slug: <span style="color: var(--base08)">filename</span>.<span style="color: var(--base0D)">replace</span>(/<span style="color: var(--base0C)">\.md</span><span style="color: var(--base0E)">$</span>/, ""),
</span><span class="codeblock-line" data-highlight="true" data-line-number="24">        title: <span style="color: var(--base08)">attributes</span>.<span style="color: var(--base08)">title</span>
</span><span class="codeblock-line" data-highlight="true" data-line-number="25">      };
</span><span class="codeblock-line" data-highlight="true" data-line-number="26">    })
</span><span class="codeblock-line" data-highlight="true" data-line-number="27">  );
</span><span class="codeblock-line" data-line-number="28">}
</span></code></pre></div><p>This isn't a Node file system tutorial, so you'll just have to trust us on that code. As mentioned before, you could pull this markdown from a database somewhere (which we will show you in a later tutorial).</p><p>TypeScript is gonna be mad at that code, let's make it happy.</p><p>Since we're reading in a file, the type system has no idea what's in there, so we need a runtime check, for that we'll want an <code>invariant</code> method to make runtime checks like this easy.</p><p>ðŸ’¿ Ensure our posts have the proper meta data and get type safety</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">npm add tiny-invariant
</span></code></pre></div><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">path</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">path</span>";
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">fs</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">fs/promises</span>";
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">parseFrontMatter</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">front-matter</span>";
</span><span class="codeblock-line" data-highlight="true" data-line-number="4"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">invariant</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">tiny-invariant</span>";
</span><span class="codeblock-line" data-line-number="5">
</span><span class="codeblock-line" data-line-number="6"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">Post</span> <span style="color: var(--base0E)">=</span> {
</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-line-number="9">};
</span><span class="codeblock-line" data-line-number="10">
</span><span class="codeblock-line" data-highlight="true" data-line-number="11"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">PostMarkdownAttributes</span> <span style="color: var(--base0E)">=</span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="12">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="13">};
</span><span class="codeblock-line" data-line-number="14">
</span><span class="codeblock-line" data-line-number="15"><span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">postsPath</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">__dirname</span>, "<span style="color: var(--base0B)">../posts</span>");
</span><span class="codeblock-line" data-line-number="16">
</span><span class="codeblock-line" data-highlight="true" data-line-number="17"><span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">isValidPostAttributes</span>(
</span><span class="codeblock-line" data-highlight="true" data-line-number="18">  <span style="color: var(--base08)">attributes</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">any</span>
</span><span class="codeblock-line" data-highlight="true" data-line-number="19">)<span style="color: var(--base0E)">:</span> <span style="color: var(--base08)">attributes</span> <span style="color: var(--base0E)">is</span> <span style="color: var(--base0A)">PostMarkdownAttributes</span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="20">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">attributes</span>?.<span style="color: var(--base08)">title</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="21">}
</span><span class="codeblock-line" data-line-number="22">
</span><span class="codeblock-line" data-line-number="23"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">getPosts</span>() {
</span><span class="codeblock-line" data-line-number="24">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">dir</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readdir</span>(<span style="color: var(--base08)">postsPath</span>);
</span><span class="codeblock-line" data-line-number="25">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0A)">Promise</span>.<span style="color: var(--base0D)">all</span>(
</span><span class="codeblock-line" data-line-number="26">    <span style="color: var(--base08)">dir</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base0E)">async</span> <span style="color: var(--base08)">filename</span> <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-line-number="27">      <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">file</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readFile</span>(
</span><span class="codeblock-line" data-line-number="28">        <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">filename</span>)
</span><span class="codeblock-line" data-line-number="29">      );
</span><span class="codeblock-line" data-line-number="30">      <span style="color: var(--base0A)">let</span> { <span style="color: var(--base08)">attributes</span> } <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">parseFrontMatter</span>(
</span><span class="codeblock-line" data-line-number="31">        <span style="color: var(--base08)">file</span>.<span style="color: var(--base0D)">toString</span>()
</span><span class="codeblock-line" data-line-number="32">      );
</span><span class="codeblock-line" data-highlight="true" data-line-number="33">      <span style="color: var(--base0D)">invariant</span>(
</span><span class="codeblock-line" data-highlight="true" data-line-number="34">        <span style="color: var(--base0D)">isValidPostAttributes</span>(<span style="color: var(--base08)">attributes</span>),
</span><span class="codeblock-line" data-highlight="true" data-line-number="35">        `${<span style="color: var(--base08)">filename</span>}<span style="color: var(--base0B)"> has bad meta data!</span>`
</span><span class="codeblock-line" data-highlight="true" data-line-number="36">      );
</span><span class="codeblock-line" data-line-number="37">      <span style="color: var(--base0E)">return</span> {
</span><span class="codeblock-line" data-line-number="38">        slug: <span style="color: var(--base08)">filename</span>.<span style="color: var(--base0D)">replace</span>(/<span style="color: var(--base0C)">\.md</span><span style="color: var(--base0E)">$</span>/, ""),
</span><span class="codeblock-line" data-line-number="39">        title: <span style="color: var(--base08)">attributes</span>.<span style="color: var(--base08)">title</span>
</span><span class="codeblock-line" data-line-number="40">      };
</span><span class="codeblock-line" data-line-number="41">    })
</span><span class="codeblock-line" data-line-number="42">  );
</span><span class="codeblock-line" data-line-number="43">}
</span></code></pre></div><p>Even if you aren't using TypeScript you're going to want that <code>invariant</code> check so you know what's wrong, too.</p><p>Okay! Back in the UI we should see our list of posts. Feel free to add some more posts, refresh, and watch the list grow.</p><h2 id="dynamic-route-params"><a href="blog.html#dynamic-route-params" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Dynamic Route Params</h2><p>Now let's make a route to actually view the post. We want these URLs to work:</p><pre><code>/posts/my-first-post
/posts/90s-mix-cdr
</code></pre><p>Instead of creating a route for every single one of our posts, we can use a "dynamic segment" in the url. Remix will parse and pass to us so we can look up the post dynamically.</p><p>ðŸ’¿ Create a dynamic route at "app/routes/posts/$slug.tsx"</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">touch app/routes/posts/<span style="color: var(--base0C)">\$</span>slug.tsx
</span></code></pre></div><div><pre data-filename="app/routes/posts/$slug.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">PostSlug</span>() {
</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="3">    &#x3C;<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="4">      &#x3C;<span style="color: var(--base08)">h1</span>>Some Post&#x3C;/<span style="color: var(--base08)">h1</span>>
</span><span class="codeblock-line" data-line-number="5">    &#x3C;/<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="6">  );
</span><span class="codeblock-line" data-line-number="7">}
</span></code></pre></div><p>You can click one of your posts and should see the new page.</p><p>ðŸ’¿ Add a loader to access the params</p><div><pre data-filename="app/routes/posts/$slug.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2">
</span><span class="codeblock-line" data-highlight="true" data-line-number="3"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">params</span> }) <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">params</span>.<span style="color: var(--base08)">slug</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="5">};
</span><span class="codeblock-line" data-line-number="6">
</span><span class="codeblock-line" data-line-number="7"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">PostSlug</span>() {
</span><span class="codeblock-line" data-highlight="true" data-line-number="8">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>();
</span><span class="codeblock-line" data-line-number="9">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="10">    &#x3C;<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="11">      &#x3C;<span style="color: var(--base08)">h1</span>>Some Post: <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base08)">h1</span>>
</span><span class="codeblock-line" data-line-number="12">    &#x3C;/<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="13">  );
</span><span class="codeblock-line" data-line-number="14">}
</span></code></pre></div><p>The part of the filename attached to the <code>$</code> becomes a named key on the <code>params</code> object that comes into your loader. This is how we'll look up our blog post.</p><p>ðŸ’¿ Let's get some help from TypeScript for the loader function signature.</p><div><pre data-filename="app/routes/posts/$slug.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">LoaderFunction</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="3">
</span><span class="codeblock-line" data-highlight="true" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">LoaderFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">params</span> }) <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">params</span>.<span style="color: var(--base08)">slug</span>;
</span><span class="codeblock-line" data-line-number="6">};
</span></code></pre></div><p>Now let's actually read the post from the file system.</p><p>ðŸ’¿ Add a <code>getPost</code> function to our post module</p><p>Put this function anywhere in the <code>app/post.ts</code> module:</p><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">getPost</span>(<span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>) {
</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">filepath</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">+</span> "<span style="color: var(--base0B)">.md</span>");
</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">file</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readFile</span>(<span style="color: var(--base08)">filepath</span>);
</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0A)">let</span> { <span style="color: var(--base08)">attributes</span> } <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">parseFrontMatter</span>(<span style="color: var(--base08)">file</span>.<span style="color: var(--base0D)">toString</span>());
</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0D)">invariant</span>(
</span><span class="codeblock-line" data-line-number="7">    <span style="color: var(--base0D)">isValidPostAttributes</span>(<span style="color: var(--base08)">attributes</span>),
</span><span class="codeblock-line" data-line-number="8">    `<span style="color: var(--base0B)">Post </span>${<span style="color: var(--base08)">filepath</span>}<span style="color: var(--base0B)"> is missing attributes</span>`
</span><span class="codeblock-line" data-line-number="9">  );
</span><span class="codeblock-line" data-line-number="10">  <span style="color: var(--base0E)">return</span> { <span style="color: var(--base08)">slug</span>, title: <span style="color: var(--base08)">attributes</span>.<span style="color: var(--base08)">title</span> };
</span><span class="codeblock-line" data-line-number="11">}
</span></code></pre></div><p>ðŸ’¿ Use the new <code>getPost</code> function in the route</p><div><pre data-filename="app/routes/posts/$slug.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">LoaderFunction</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-highlight="true" data-line-number="3"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">getPost</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";
</span><span class="codeblock-line" data-highlight="true" data-line-number="4"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">invariant</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">tiny-invariant</span>";
</span><span class="codeblock-line" data-line-number="5">
</span><span class="codeblock-line" data-line-number="6"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">LoaderFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">params</span> }) <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="7">  <span style="color: var(--base0D)">invariant</span>(<span style="color: var(--base08)">params</span>.<span style="color: var(--base08)">slug</span>, "<span style="color: var(--base0B)">expected params.slug</span>");
</span><span class="codeblock-line" data-highlight="true" data-line-number="8">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">getPost</span>(<span style="color: var(--base08)">params</span>.<span style="color: var(--base08)">slug</span>);
</span><span class="codeblock-line" data-line-number="9">};
</span><span class="codeblock-line" data-line-number="10">
</span><span class="codeblock-line" data-line-number="11"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">PostSlug</span>() {
</span><span class="codeblock-line" data-line-number="12">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">post</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>();
</span><span class="codeblock-line" data-line-number="13">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="14">    &#x3C;<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="15">      &#x3C;<span style="color: var(--base08)">h1</span>><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base08)">h1</span>>
</span><span class="codeblock-line" data-line-number="16">    &#x3C;/<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="17">  );
</span><span class="codeblock-line" data-line-number="18">}
</span></code></pre></div><p>Check that out! We're now pulling our posts from a data source instead of including it all in the browser as JavaScript.</p><p>Quick note on that <code>invariant</code>. Because <code>params</code> comes from the URL, we can't be totally sure that <code>params.slug</code> will be defined--maybe you change the name of the file to <code>$postId.ts</code>! It's good practice to validate that stuff with <code>invariant</code>, and it makes TypeScript happy too.</p><p>Let's use the same markdown parser for our blog here that we actually use on this very website. It's not documented (yet? maybe one day?) but you can use whatever markdown parser you want instead.</p><p>ðŸ’¿ Parse the markdown into HTML</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">npm add @ryanflorence/md
</span></code></pre></div><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">getPost</span>(<span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>) {
</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">filepath</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">+</span> "<span style="color: var(--base0B)">.md</span>");
</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">file</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readFile</span>(<span style="color: var(--base08)">filepath</span>);
</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base0A)">let</span> { <span style="color: var(--base08)">attributes</span>, <span style="color: var(--base08)">body</span> } <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">parseFrontMatter</span>(
</span><span class="codeblock-line" data-line-number="5">    <span style="color: var(--base08)">file</span>.<span style="color: var(--base0D)">toString</span>()
</span><span class="codeblock-line" data-line-number="6">  );
</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base0D)">invariant</span>(
</span><span class="codeblock-line" data-line-number="8">    <span style="color: var(--base0D)">isValidPostAttributes</span>(<span style="color: var(--base08)">attributes</span>),
</span><span class="codeblock-line" data-line-number="9">    `<span style="color: var(--base0B)">Post </span>${<span style="color: var(--base08)">filepath</span>}<span style="color: var(--base0B)"> is missing attributes</span>`
</span><span class="codeblock-line" data-line-number="10">  );
</span><span class="codeblock-line" data-highlight="true" data-line-number="11">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">html</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base0D)">processMarkdown</span>(<span style="color: var(--base08)">body</span>);
</span><span class="codeblock-line" data-highlight="true" data-line-number="12">  <span style="color: var(--base0E)">return</span> { <span style="color: var(--base08)">slug</span>, <span style="color: var(--base08)">html</span>, title: <span style="color: var(--base08)">attributes</span>.<span style="color: var(--base08)">title</span> };
</span><span class="codeblock-line" data-line-number="13">}
</span></code></pre></div><p>ðŸ’¿ Render the HTML in the route</p><div><pre data-filename="app/routes/posts/$slug.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">PostSlug</span>() {
</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">post</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>();
</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-highlight="true" data-line-number="5">    &#x3C;<span style="color: var(--base08)">div</span> <span style="color: var(--base0D)">dangerouslySetInnerHTML</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span>{ __html: <span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">html</span> }<span style="color: var(--base0F)">}</span> />
</span><span class="codeblock-line" data-line-number="6">  );
</span><span class="codeblock-line" data-line-number="7">}
</span></code></pre></div><p>Holy smokes, you did it. You have a blog.</p><h2 id="creating-blog-posts"><a href="blog.html#creating-blog-posts" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Creating Blog Posts</h2><p>Right now our blog posts (and typo fixes) are tied to deploys. Thats gross. The idea here is that your posts would be backed by a database, so we need a way to create a new blog post. We're going to be using actions for that.</p><p>Let's make a new "admin" section of the app.</p><p>ðŸ’¿ Create an admin route</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">touch app/routes/admin.tsx
</span></code></pre></div><div><pre data-filename="app/routes/admin.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">getPosts</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">Post</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";
</span><span class="codeblock-line" data-line-number="4">
</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span> <span style="color: var(--base0E)">=</span> () <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">getPosts</span>();
</span><span class="codeblock-line" data-line-number="7">};
</span><span class="codeblock-line" data-line-number="8">
</span><span class="codeblock-line" data-line-number="9"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Admin</span>() {
</span><span class="codeblock-line" data-line-number="10">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>&#x3C;<span style="color: var(--base0A)">Post</span>[]>();
</span><span class="codeblock-line" data-line-number="11">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="12">    &#x3C;<span style="color: var(--base08)">div</span> <span style="color: var(--base0D)">className</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">admin</span>">
</span><span class="codeblock-line" data-line-number="13">      &#x3C;<span style="color: var(--base08)">nav</span>>
</span><span class="codeblock-line" data-line-number="14">        &#x3C;<span style="color: var(--base08)">h1</span>>Admin&#x3C;/<span style="color: var(--base08)">h1</span>>
</span><span class="codeblock-line" data-line-number="15">        &#x3C;<span style="color: var(--base08)">ul</span>>
</span><span class="codeblock-line" data-line-number="16">          <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">posts</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base08)">post</span> <span style="color: var(--base0D)">=></span> (
</span><span class="codeblock-line" data-line-number="17">            &#x3C;<span style="color: var(--base08)">li</span> <span style="color: var(--base0D)">key</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>>
</span><span class="codeblock-line" data-line-number="18">              &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base0A)">Link</span>>
</span><span class="codeblock-line" data-line-number="19">            &#x3C;/<span style="color: var(--base08)">li</span>>
</span><span class="codeblock-line" data-line-number="20">          ))<span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-line-number="21">        &#x3C;/<span style="color: var(--base08)">ul</span>>
</span><span class="codeblock-line" data-line-number="22">      &#x3C;/<span style="color: var(--base08)">nav</span>>
</span><span class="codeblock-line" data-line-number="23">      &#x3C;<span style="color: var(--base08)">main</span>>...&#x3C;/<span style="color: var(--base08)">main</span>>
</span><span class="codeblock-line" data-line-number="24">    &#x3C;/<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="25">  );
</span><span class="codeblock-line" data-line-number="26">}
</span></code></pre></div><p>You should recognize a lot of that code from the posts route. We set up some extra HTML structure cause we're going to style this real quick.</p><p>ðŸ’¿ Create an admin stylesheet</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">touch app/styles/admin.css
</span></code></pre></div><div><pre data-filename="app/styles/admin.css" data-line-numbers="true" data-lang="css" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">.<span style="color: var(--base0A)">admin</span> {
</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base0C)">display</span>: <span style="color: var(--base09)">flex</span>;
</span><span class="codeblock-line" data-line-number="3">}
</span><span class="codeblock-line" data-line-number="4">
</span><span class="codeblock-line" data-line-number="5">.<span style="color: var(--base0A)">admin</span> <span style="color: var(--base0E)">></span> <span style="color: var(--base08)">nav</span> {
</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0C)">padding-right</span>: <span style="color: var(--base09)">2rem</span>;
</span><span class="codeblock-line" data-line-number="7">}
</span><span class="codeblock-line" data-line-number="8">
</span><span class="codeblock-line" data-line-number="9">.<span style="color: var(--base0A)">admin</span> <span style="color: var(--base0E)">></span> <span style="color: var(--base08)">main</span> {
</span><span class="codeblock-line" data-line-number="10">  <span style="color: var(--base0C)">flex</span>: <span style="color: var(--base09)">1</span>;
</span><span class="codeblock-line" data-line-number="11">  <span style="color: var(--base0C)">border-left</span>: <span style="color: var(--base09)">solid</span> <span style="color: var(--base09)">1px</span> #ccc;
</span><span class="codeblock-line" data-line-number="12">  <span style="color: var(--base0C)">padding-left</span>: <span style="color: var(--base09)">2rem</span>;
</span><span class="codeblock-line" data-line-number="13">}
</span><span class="codeblock-line" data-line-number="14">
</span><span class="codeblock-line" data-line-number="15"><span style="color: var(--base08)">em</span> {
</span><span class="codeblock-line" data-line-number="16">  <span style="color: var(--base0C)">color</span>: <span style="color: var(--base09)">red</span>;
</span><span class="codeblock-line" data-line-number="17">}
</span></code></pre></div><p>ðŸ’¿ Link to the stylesheet in the admin route</p><div><pre data-filename="app/routes/admin.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">getPosts</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">Post</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";
</span><span class="codeblock-line" data-highlight="true" data-line-number="4"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">adminStyles</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/styles/admin.css</span>";
</span><span class="codeblock-line" data-line-number="5">
</span><span class="codeblock-line" data-highlight="true" data-line-number="6"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">links</span> <span style="color: var(--base0E)">=</span> () <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="7">  <span style="color: var(--base0E)">return</span> [{ rel: "<span style="color: var(--base0B)">stylesheet</span>", href: <span style="color: var(--base08)">adminStyles</span> }];
</span><span class="codeblock-line" data-highlight="true" data-line-number="8">};
</span><span class="codeblock-line" data-line-number="9">
</span><span class="codeblock-line" data-line-number="10"><span style="color: var(--base03)">// ...</span>
</span></code></pre></div><p>Each route can export a <code>links</code> function that returns array of <code>&#x3C;link></code> tags, except in object form instead of HTML. So we use <code>{ rel: "stylesheet", href: adminStyles}</code> instead of <code>&#x3C;link rel="stylesheet" href="..." /></code>. This allows Remix to merge all of your rendered routes links together and render them in the <code>&#x3C;Links/></code> element at the top of your document. You can see it in <code>root.tsx</code> if you're curious.</p><p>Alright, you should have a a decent looking page with the posts on the left and a placeholder on the right.</p><h2 id="index-routes"><a href="blog.html#index-routes" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Index Routes</h2><p>Let's fill in that placeholder with an index route for admin. Hang with us, we're introducing "nested routes" here where your route file nesting becomes UI component nesting.</p><p>ðŸ’¿ Create a folder for <code>admin.tsx</code>'s child routes, with an index inside</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">mkdir app/routes/admin
</span><span class="codeblock-line" data-line-number="2">touch app/routes/admin/index.tsx
</span></code></pre></div><div><pre data-filename="app/routes/admin/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2">
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">AdminIndex</span>() {
</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="5">    &#x3C;<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="6">      &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">new</span>">Create a New Post&#x3C;/<span style="color: var(--base0A)">Link</span>>
</span><span class="codeblock-line" data-line-number="7">    &#x3C;/<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="8">  );
</span><span class="codeblock-line" data-line-number="9">}
</span></code></pre></div><p>If you refresh you're not going to see it yet. Every route inside of <code>app/routes/admin/</code> can now render <em>inside</em> of <code>app/routes/admin.tsx</code> when their URL matches. You get to control which part of the <code>admin.tsx</code> layout the child routes render.</p><p>ðŸ’¿ Add an outlet to the admin page</p><div><pre data-filename="app/routes/admin.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Outlet</span>, <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2">
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base03)">//...</span>
</span><span class="codeblock-line" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Admin</span>() {
</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>&#x3C;<span style="color: var(--base0A)">Post</span>[]>();
</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="7">    &#x3C;<span style="color: var(--base08)">div</span> <span style="color: var(--base0D)">className</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">admin</span>">
</span><span class="codeblock-line" data-line-number="8">      &#x3C;<span style="color: var(--base08)">nav</span>>
</span><span class="codeblock-line" data-line-number="9">        &#x3C;<span style="color: var(--base08)">h1</span>>Admin&#x3C;/<span style="color: var(--base08)">h1</span>>
</span><span class="codeblock-line" data-line-number="10">        &#x3C;<span style="color: var(--base08)">ul</span>>
</span><span class="codeblock-line" data-line-number="11">          <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">posts</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base08)">post</span> <span style="color: var(--base0D)">=></span> (
</span><span class="codeblock-line" data-line-number="12">            &#x3C;<span style="color: var(--base08)">li</span> <span style="color: var(--base0D)">key</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>>
</span><span class="codeblock-line" data-line-number="13">              &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base0A)">Link</span>>
</span><span class="codeblock-line" data-line-number="14">            &#x3C;/<span style="color: var(--base08)">li</span>>
</span><span class="codeblock-line" data-line-number="15">          ))<span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-line-number="16">        &#x3C;/<span style="color: var(--base08)">ul</span>>
</span><span class="codeblock-line" data-line-number="17">      &#x3C;/<span style="color: var(--base08)">nav</span>>
</span><span class="codeblock-line" data-line-number="18">      &#x3C;<span style="color: var(--base08)">main</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="19">        &#x3C;<span style="color: var(--base0A)">Outlet</span> />
</span><span class="codeblock-line" data-line-number="20">      &#x3C;/<span style="color: var(--base08)">main</span>>
</span><span class="codeblock-line" data-line-number="21">    &#x3C;/<span style="color: var(--base08)">div</span>>
</span><span class="codeblock-line" data-line-number="22">  );
</span><span class="codeblock-line" data-line-number="23">}
</span></code></pre></div><p>Hang with us for a minute, index routes can be confusing at first. Just know that when the URL matches the parent route's path, the index will render inside the outlet.</p><p>Maybe this will help, let's add the "/admin/new" route and see what happens when we click the link.</p><p>ðŸ’¿ Create the <code>app/routes/admin/new.tsx</code> route</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">NewPost</span>() {
</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base0E)">return</span> &#x3C;<span style="color: var(--base08)">h2</span>>New Post&#x3C;/<span style="color: var(--base08)">h2</span>>;
</span><span class="codeblock-line" data-line-number="3">}
</span></code></pre></div><p>Now click the link from the index route and watch the <code>&#x3C;Outlet/></code> automatically swap out the index route for the "new" route!</p><h2 id="actions"><a href="blog.html#actions" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Actions</h2><p>We're gonna get serious now. Let's build a form to create a new post in the our new "new" route.</p><p>ðŸ’¿ Add a form to the new route</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Form</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2">
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">NewPost</span>() {
</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-highlight="true" data-line-number="5">    &#x3C;<span style="color: var(--base0A)">Form</span> <span style="color: var(--base0D)">method</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">post</span>">
</span><span class="codeblock-line" data-highlight="true" data-line-number="6">      &#x3C;<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="7">        &#x3C;<span style="color: var(--base08)">label</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="8">          Post Title: &#x3C;<span style="color: var(--base08)">input</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">text</span>" <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">title</span>" />
</span><span class="codeblock-line" data-highlight="true" data-line-number="9">        &#x3C;/<span style="color: var(--base08)">label</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="10">      &#x3C;/<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="11">      &#x3C;<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="12">        &#x3C;<span style="color: var(--base08)">label</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="13">          Post Slug: &#x3C;<span style="color: var(--base08)">input</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">text</span>" <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">slug</span>" />
</span><span class="codeblock-line" data-highlight="true" data-line-number="14">        &#x3C;/<span style="color: var(--base08)">label</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="15">      &#x3C;/<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="16">      &#x3C;<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="17">        &#x3C;<span style="color: var(--base08)">label</span> <span style="color: var(--base0D)">htmlFor</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">markdown</span>">Markdown&#x3C;/<span style="color: var(--base08)">label</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="18">        &#x3C;<span style="color: var(--base08)">br</span> />
</span><span class="codeblock-line" data-highlight="true" data-line-number="19">        &#x3C;<span style="color: var(--base08)">textarea</span> <span style="color: var(--base0D)">rows</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base09)">20</span><span style="color: var(--base0F)">}</span> <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">markdown</span>" />
</span><span class="codeblock-line" data-highlight="true" data-line-number="20">      &#x3C;/<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="21">      &#x3C;<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="22">        &#x3C;<span style="color: var(--base08)">button</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">submit</span>">Create Post&#x3C;/<span style="color: var(--base08)">button</span>>
</span><span class="codeblock-line" data-line-number="23">      &#x3C;/<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="24">    &#x3C;/<span style="color: var(--base0A)">Form</span>>
</span><span class="codeblock-line" data-line-number="25">  );
</span><span class="codeblock-line" data-line-number="26">}
</span></code></pre></div><p>If you love HTML like us, you should be getting pretty excited. If you've been doing a lot of <code>&#x3C;form onSubmit></code> and <code>&#x3C;button onClick></code> you're about to have your mind blown by HTML.</p><p>All you really need for a feature like this is a form to get data from the user and a backend action to handle it. And in Remix, that's all you have to.</p><p>Let's create the essential code that knows how to save a post first in our <code>post.ts</code> module.</p><p>ðŸ’¿ Add <code>createPost</code> anywhere inside of <code>app/post.ts</code></p><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">createPost</span>(<span style="color: var(--base08)">post</span>) {
</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">md</span> <span style="color: var(--base0E)">=</span> `<span style="color: var(--base0B)">---</span><span style="color: var(--base0C)">\n</span><span style="color: var(--base0B)">title: </span>${<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span>}<span style="color: var(--base0C)">\n</span><span style="color: var(--base0B)">---</span><span style="color: var(--base0C)">\n\n</span>${<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">markdown</span>}`;
</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">writeFile</span>(
</span><span class="codeblock-line" data-line-number="5">    <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">+</span> "<span style="color: var(--base0B)">.md</span>"),
</span><span class="codeblock-line" data-line-number="6">    <span style="color: var(--base08)">md</span>
</span><span class="codeblock-line" data-line-number="7">  );
</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">getPost</span>(<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span>);
</span><span class="codeblock-line" data-line-number="9">}
</span></code></pre></div><p>ðŸ’¿ Call <code>createPost</code> from the new post route's action</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">redirect</span>, <span style="color: var(--base08)">Form</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">createPost</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";
</span><span class="codeblock-line" data-line-number="3">
</span><span class="codeblock-line" data-highlight="true" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">action</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">request</span> }) <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="5">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">formData</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">request</span>.<span style="color: var(--base0D)">formData</span>();
</span><span class="codeblock-line" data-highlight="true" data-line-number="6">
</span><span class="codeblock-line" data-highlight="true" data-line-number="7">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">title</span>");
</span><span class="codeblock-line" data-highlight="true" data-line-number="8">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">slug</span>");
</span><span class="codeblock-line" data-highlight="true" data-line-number="9">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">markdown</span>");
</span><span class="codeblock-line" data-line-number="10">
</span><span class="codeblock-line" data-line-number="11">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base0D)">createPost</span>({ <span style="color: var(--base08)">title</span>, <span style="color: var(--base08)">slug</span>, <span style="color: var(--base08)">markdown</span> });
</span><span class="codeblock-line" data-line-number="12">
</span><span class="codeblock-line" data-line-number="13">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">redirect</span>("<span style="color: var(--base0B)">/admin</span>");
</span><span class="codeblock-line" data-line-number="14">};
</span><span class="codeblock-line" data-line-number="15">
</span><span class="codeblock-line" data-line-number="16"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">NewPost</span>() {
</span><span class="codeblock-line" data-line-number="17">  <span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-line-number="18">}
</span></code></pre></div><p>That's it. Remix (and the browser) will take of the rest. Click the submit button and watch the sidebar that lists our posts update automatically.</p><p>In HTML an input's <code>name</code> attribute is sent over the network and available by the same name on the request's <code>formData</code>.</p><p>TypeScript is mad again, let's add some types.</p><p>ðŸ’¿ Add the types to both files we changed</p><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">NewPost</span> <span style="color: var(--base0E)">=</span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="3">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="5">  <span style="color: var(--base08)">markdown</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="6">};
</span><span class="codeblock-line" data-line-number="7">
</span><span class="codeblock-line" data-highlight="true" data-line-number="8"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">createPost</span>(<span style="color: var(--base08)">post</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">NewPost</span>) {
</span><span class="codeblock-line" data-line-number="9">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">md</span> <span style="color: var(--base0E)">=</span> `<span style="color: var(--base0B)">---</span><span style="color: var(--base0C)">\n</span><span style="color: var(--base0B)">title: </span>${<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span>}<span style="color: var(--base0C)">\n</span><span style="color: var(--base0B)">---</span><span style="color: var(--base0C)">\n\n</span>${<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">markdown</span>}`;
</span><span class="codeblock-line" data-line-number="10">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">writeFile</span>(
</span><span class="codeblock-line" data-line-number="11">    <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">+</span> "<span style="color: var(--base0B)">.md</span>"),
</span><span class="codeblock-line" data-line-number="12">    <span style="color: var(--base08)">md</span>
</span><span class="codeblock-line" data-line-number="13">  );
</span><span class="codeblock-line" data-line-number="14">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">getPost</span>(<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span>);
</span><span class="codeblock-line" data-line-number="15">}
</span><span class="codeblock-line" data-line-number="16">
</span><span class="codeblock-line" data-line-number="17"><span style="color: var(--base03)">//...</span>
</span></code></pre></div><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Form</span>, <span style="color: var(--base08)">redirect</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">ActionFunction</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">createPost</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";
</span><span class="codeblock-line" data-line-number="4">
</span><span class="codeblock-line" data-highlight="true" data-line-number="5"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">action</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">ActionFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">request</span> }) <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">formData</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">request</span>.<span style="color: var(--base0D)">formData</span>();
</span><span class="codeblock-line" data-line-number="7">
</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">title</span>");
</span><span class="codeblock-line" data-line-number="9">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">slug</span>");
</span><span class="codeblock-line" data-line-number="10">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">markdown</span>");
</span><span class="codeblock-line" data-line-number="11">
</span><span class="codeblock-line" data-line-number="12">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base0D)">createPost</span>({ <span style="color: var(--base08)">title</span>, <span style="color: var(--base08)">slug</span>, <span style="color: var(--base08)">markdown</span> });
</span><span class="codeblock-line" data-line-number="13">
</span><span class="codeblock-line" data-line-number="14">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">redirect</span>("<span style="color: var(--base0B)">/admin</span>");
</span><span class="codeblock-line" data-line-number="15">};
</span></code></pre></div><p>Whether you're using TypeScript or not, we've got a problem when the user doesn't provide values on some of these fields (and TS is still mad about that call to <code>createPost</code>).</p><p>Let's add some validation before we create the post.</p><p>ðŸ’¿ Validate if the form data contains what we need, and return the errors if not</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">//...</span>
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">invariant</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">tiny-invariant</span>";
</span><span class="codeblock-line" data-line-number="3">
</span><span class="codeblock-line" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">action</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">ActionFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">request</span> }) <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">formData</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">request</span>.<span style="color: var(--base0D)">formData</span>();
</span><span class="codeblock-line" data-line-number="6">
</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">title</span>");
</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">slug</span>");
</span><span class="codeblock-line" data-line-number="9">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">markdown</span>");
</span><span class="codeblock-line" data-line-number="10">
</span><span class="codeblock-line" data-highlight="true" data-line-number="11">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">errors</span> <span style="color: var(--base0E)">=</span> {};
</span><span class="codeblock-line" data-highlight="true" data-line-number="12">  <span style="color: var(--base0E)">if</span> (<span style="color: var(--base0E)">!</span><span style="color: var(--base08)">title</span>) <span style="color: var(--base08)">errors</span>.<span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base09)">true</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="13">  <span style="color: var(--base0E)">if</span> (<span style="color: var(--base0E)">!</span><span style="color: var(--base08)">slug</span>) <span style="color: var(--base08)">errors</span>.<span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base09)">true</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="14">  <span style="color: var(--base0E)">if</span> (<span style="color: var(--base0E)">!</span><span style="color: var(--base08)">markdown</span>) <span style="color: var(--base08)">errors</span>.<span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base09)">true</span>;
</span><span class="codeblock-line" data-line-number="15">
</span><span class="codeblock-line" data-highlight="true" data-line-number="16">  <span style="color: var(--base0E)">if</span> (<span style="color: var(--base0A)">Object</span>.<span style="color: var(--base0D)">keys</span>(<span style="color: var(--base08)">errors</span>).length) {
</span><span class="codeblock-line" data-highlight="true" data-line-number="17">    <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">errors</span>;
</span><span class="codeblock-line" data-highlight="true" data-line-number="18">  }
</span><span class="codeblock-line" data-line-number="19">
</span><span class="codeblock-line" data-line-number="20">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base0D)">createPost</span>({ <span style="color: var(--base08)">title</span>, <span style="color: var(--base08)">slug</span>, <span style="color: var(--base08)">markdown</span> });
</span><span class="codeblock-line" data-line-number="21">
</span><span class="codeblock-line" data-line-number="22">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">redirect</span>("<span style="color: var(--base0B)">/admin</span>");
</span><span class="codeblock-line" data-line-number="23">};
</span></code></pre></div><p>Notice we don't return a redirect this time, we actually return the errors. These errors are available to the component via <code>useActionData</code>. It's just like <code>useLoaderData</code> but the data comes from the action after a form POST.</p><p>ðŸ’¿ Add validation messages to the UI</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">useActionData</span>, <span style="color: var(--base08)">Form</span>, <span style="color: var(--base08)">redirect</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="2">
</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-line-number="4">
</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">NewPost</span>() {
</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">errors</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useActionData</span>();
</span><span class="codeblock-line" data-line-number="7">
</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="9">    &#x3C;<span style="color: var(--base0A)">Form</span> <span style="color: var(--base0D)">method</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">post</span>">
</span><span class="codeblock-line" data-line-number="10">      &#x3C;<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="11">        &#x3C;<span style="color: var(--base08)">label</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="12">          Post Title:<span style="color: var(--base0F)">{</span>"<span style="color: var(--base0B)"> </span>"<span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-highlight="true" data-line-number="13">          <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">errors</span>?.<span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">&#x26;&#x26;</span> &#x3C;<span style="color: var(--base08)">em</span>>Title is required&#x3C;/<span style="color: var(--base08)">em</span>><span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-line-number="14">          &#x3C;<span style="color: var(--base08)">input</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">text</span>" <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">title</span>" />
</span><span class="codeblock-line" data-line-number="15">        &#x3C;/<span style="color: var(--base08)">label</span>>
</span><span class="codeblock-line" data-line-number="16">      &#x3C;/<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="17">      &#x3C;<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="18">        &#x3C;<span style="color: var(--base08)">label</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="19">          Post Slug:<span style="color: var(--base0F)">{</span>"<span style="color: var(--base0B)"> </span>"<span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-highlight="true" data-line-number="20">          <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">errors</span>?.<span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">&#x26;&#x26;</span> &#x3C;<span style="color: var(--base08)">em</span>>Slug is required&#x3C;/<span style="color: var(--base08)">em</span>><span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-line-number="21">          &#x3C;<span style="color: var(--base08)">input</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">text</span>" <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">slug</span>" />
</span><span class="codeblock-line" data-line-number="22">        &#x3C;/<span style="color: var(--base08)">label</span>>
</span><span class="codeblock-line" data-line-number="23">      &#x3C;/<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="24">      &#x3C;<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-highlight="true" data-line-number="25">        &#x3C;<span style="color: var(--base08)">label</span> <span style="color: var(--base0D)">htmlFor</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">markdown</span>">Markdown:&#x3C;/<span style="color: var(--base08)">label</span>><span style="color: var(--base0F)">{</span>"<span style="color: var(--base0B)"> </span>"<span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-highlight="true" data-line-number="26">        <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">errors</span>?.<span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">&#x26;&#x26;</span> &#x3C;<span style="color: var(--base08)">em</span>>Markdown is required&#x3C;/<span style="color: var(--base08)">em</span>><span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-line-number="27">        &#x3C;<span style="color: var(--base08)">br</span> />
</span><span class="codeblock-line" data-line-number="28">        &#x3C;<span style="color: var(--base08)">textarea</span> <span style="color: var(--base0D)">rows</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base09)">20</span><span style="color: var(--base0F)">}</span> <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">markdown</span>" />
</span><span class="codeblock-line" data-line-number="29">      &#x3C;/<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="30">      &#x3C;<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="31">        &#x3C;<span style="color: var(--base08)">button</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">submit</span>">Create Post&#x3C;/<span style="color: var(--base08)">button</span>>
</span><span class="codeblock-line" data-line-number="32">      &#x3C;/<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="33">    &#x3C;/<span style="color: var(--base0A)">Form</span>>
</span><span class="codeblock-line" data-line-number="34">  );
</span><span class="codeblock-line" data-line-number="35">}
</span></code></pre></div><p>TypeScript is still mad, so let's add some invariants to make it happy.</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">//...</span>
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">invariant</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">tiny-invariant</span>";
</span><span class="codeblock-line" data-line-number="3">
</span><span class="codeblock-line" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">action</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">ActionFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">request</span> }) <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-line-number="6">
</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base0E)">if</span> (<span style="color: var(--base0A)">Object</span>.<span style="color: var(--base0D)">keys</span>(<span style="color: var(--base08)">errors</span>).length) {
</span><span class="codeblock-line" data-line-number="8">    <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">errors</span>;
</span><span class="codeblock-line" data-line-number="9">  }
</span><span class="codeblock-line" data-line-number="10">
</span><span class="codeblock-line" data-highlight="true" data-line-number="11">  <span style="color: var(--base0D)">invariant</span>(<span style="color: var(--base0E)">typeof</span> <span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">===</span> "<span style="color: var(--base0B)">string</span>");
</span><span class="codeblock-line" data-highlight="true" data-line-number="12">  <span style="color: var(--base0D)">invariant</span>(<span style="color: var(--base0E)">typeof</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">===</span> "<span style="color: var(--base0B)">string</span>");
</span><span class="codeblock-line" data-highlight="true" data-line-number="13">  <span style="color: var(--base0D)">invariant</span>(<span style="color: var(--base0E)">typeof</span> <span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">===</span> "<span style="color: var(--base0B)">string</span>");
</span><span class="codeblock-line" data-highlight="true" data-line-number="14">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base0D)">createPost</span>({ <span style="color: var(--base08)">title</span>, <span style="color: var(--base08)">slug</span>, <span style="color: var(--base08)">markdown</span> });
</span><span class="codeblock-line" data-line-number="15">
</span><span class="codeblock-line" data-highlight="true" data-line-number="16">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">redirect</span>("<span style="color: var(--base0B)">/admin</span>");
</span><span class="codeblock-line" data-highlight="true" data-line-number="17">};
</span></code></pre></div><p>For some real fun, disable JavaScript in your dev tools and try it out. Because Remix is built on the fundamentals of HTTP and HTML, this whole thing works without JavaScript in the browser. But that's not the point. Let's slow this down and add some "pending UI" to our form.</p><p>ðŸ’¿ Slow down our action with a fake delay</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">action</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">ActionFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">request</span> }) <span style="color: var(--base0D)">=></span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="3">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base0E)">new</span> <span style="color: var(--base0A)">Promise</span>(<span style="color: var(--base08)">res</span> <span style="color: var(--base0D)">=></span> <span style="color: var(--base0D)">setTimeout</span>(<span style="color: var(--base08)">res</span>, <span style="color: var(--base09)">1000</span>));
</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">formData</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">request</span>.<span style="color: var(--base0D)">formData</span>();
</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">title</span>");
</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">slug</span>");
</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">markdown</span>");
</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-line-number="9">};
</span><span class="codeblock-line" data-line-number="10"><span style="color: var(--base03)">//...</span>
</span></code></pre></div><p>ðŸ’¿ Add some pending UI with <code>useTransition</code></p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> {
</span><span class="codeblock-line" data-highlight="true" data-line-number="2">  <span style="color: var(--base08)">useTransition</span>,
</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base08)">useActionData</span>,
</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base08)">Form</span>,
</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base08)">redirect</span>
</span><span class="codeblock-line" data-line-number="6">} <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";
</span><span class="codeblock-line" data-line-number="7">
</span><span class="codeblock-line" data-line-number="8"><span style="color: var(--base03)">// ...</span>
</span><span class="codeblock-line" data-line-number="9">
</span><span class="codeblock-line" data-line-number="10"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">NewPost</span>() {
</span><span class="codeblock-line" data-line-number="11">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">errors</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useActionData</span>();
</span><span class="codeblock-line" data-highlight="true" data-line-number="12">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">transition</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useTransition</span>();
</span><span class="codeblock-line" data-line-number="13">
</span><span class="codeblock-line" data-line-number="14">  <span style="color: var(--base0E)">return</span> (
</span><span class="codeblock-line" data-line-number="15">    &#x3C;<span style="color: var(--base0A)">Form</span> <span style="color: var(--base0D)">method</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">post</span>">
</span><span class="codeblock-line" data-line-number="16">      <span style="color: var(--base0F)">{</span><span style="color: var(--base03)">/* ... */</span><span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-line-number="17">
</span><span class="codeblock-line" data-line-number="18">      &#x3C;<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="19">        &#x3C;<span style="color: var(--base08)">button</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">submit</span>">
</span><span class="codeblock-line" data-highlight="true" data-line-number="20">          <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">transition</span>.<span style="color: var(--base08)">submission</span>
</span><span class="codeblock-line" data-highlight="true" data-line-number="21">            <span style="color: var(--base0E)">?</span> "<span style="color: var(--base0B)">Creating...</span>"
</span><span class="codeblock-line" data-highlight="true" data-line-number="22">            <span style="color: var(--base0E)">:</span> "<span style="color: var(--base0B)">Create Post</span>"<span style="color: var(--base0F)">}</span>
</span><span class="codeblock-line" data-line-number="23">        &#x3C;/<span style="color: var(--base08)">button</span>>
</span><span class="codeblock-line" data-line-number="24">      &#x3C;/<span style="color: var(--base08)">p</span>>
</span><span class="codeblock-line" data-line-number="25">    &#x3C;/<span style="color: var(--base0A)">Form</span>>
</span><span class="codeblock-line" data-line-number="26">  );
</span><span class="codeblock-line" data-line-number="27">}
</span></code></pre></div><p>Now the user gets an enhanced experience than if we had just done this without JavaScript in the browser at all. Some other things that you could do to make it better is automatically slugify the title into the slug field or let the user override it (maybe we'll add that later).</p><p>That's it for today! You're homework is to make an <code>/admin/edit</code> page for your posts. The links are already there in the sidebar but they 404! Create a new route that reads the post, puts them into the fields. All the code you need is already in <code>app/routes/posts/$slug.ts</code> and <code>app/routes/posts/new.ts</code>. You just gotta put it together.</p><p>We hope you love Remix!</p></div></div>
</div><div class="h-[90vh]"></div></div></div></div></div><script>
          if (!window.history.state || !window.history.state.key) {
            window.history.replaceState({ key: Math.random().toString(32).slice(2) }, null);
          }
          let STORAGE_KEY = "positions";
          try {
            let positions = JSON.parse(sessionStorage.getItem("positions") ?? '{}')
            let storedY = positions[window.history.state.key];
            if (typeof storedY === 'number') {
              window.scrollTo(0, storedY)
            }
          } catch(error) {
            console.error(error)
            sessionStorage.removeItem(STORAGE_KEY)
          }
        </script><link rel="modulepreload" href="../../../../build/_shared/chunk-N3KPM2EV.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-YTGA4KPU.js"/><link rel="modulepreload" href="../../../../build/root-63J2OI5O.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-GWT4HVMK.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-WV7HFGSM.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-43DMIVRF.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-AYAFUZYC.js"/><link rel="modulepreload" href="../../../../build/routes/docs/$lang.$version-WDGSSTHQ.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-CXMLCDHV.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-TEGZ72RU.js"/><link rel="modulepreload" href="../../../../build/routes/docs/$lang.$version/$-XTVJBAXD.js"/><script>window.__remixContext = {'matches':[{'params':{'lang':'en','version':'v1.0.4','*':'tutorials/blog'},'pathname':'/','route':{'id':'root','path':'','module':'/build/root-63J2OI5O.js','hasAction':false,'hasLoader':true,'hasCatchBoundary':true,'hasErrorBoundary':true}},{'params':{'lang':'en','version':'v1.0.4','*':'tutorials/blog'},'pathname':'/docs/en/v1.0.4','route':{'id':'routes/docs/$lang.$version','parentId':'root','path':'docs/:lang/:version','module':'/build/routes/docs/$lang.$version-WDGSSTHQ.js','imports':['/build/_shared/chunk-GWT4HVMK.js','/build/_shared/chunk-WV7HFGSM.js','/build/_shared/chunk-43DMIVRF.js','/build/_shared/chunk-AYAFUZYC.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false}},{'params':{'lang':'en','version':'v1.0.4','*':'tutorials/blog'},'pathname':'/docs/en/v1.0.4/tutorials/blog','route':{'id':'routes/docs/$lang.$version/$','parentId':'routes/docs/$lang.$version','path':'*','module':'/build/routes/docs/$lang.$version/$-XTVJBAXD.js','imports':['/build/_shared/chunk-CXMLCDHV.js','/build/_shared/chunk-TEGZ72RU.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false}}],'componentDidCatchEmulator':{'trackBoundaries':true,'trackCatchBoundaries':true,'catchBoundaryRouteId':'root','renderBoundaryRouteId':null,'loaderBoundaryRouteId':'root','error':undefined,'catch':undefined},'routeData':{'root':{'noIndex':false},'routes/docs/$lang.$version':[{'slug':'/api','title':'API','hasContent':false,'order':3,'disabled':false,'children':[{'slug':'/api/conventions','title':'Conventions','hasContent':true,'order':1,'disabled':false,'children':[]},{'slug':'/api/remix','title':'Remix Package','hasContent':true,'order':2,'disabled':false,'children':[]}]},{'slug':'/contributing','title':'Contributing','hasContent':true,'order':6,'disabled':false,'children':[]},{'slug':'/guides','title':'Guides','hasContent':false,'order':5,'disabled':false,'children':[{'slug':'/guides/accessibility','title':'Accessibility','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/api-routes','title':'API Routes','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/data-writes','title':'Data Writes','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/disabling-javascript','title':'Disabling JavaScript','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/envvars','title':'Environment Variables','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/errors','title':'Error Handling','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/mdx','title':'MDX','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/not-found','title':'Not Found Handling','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/optimistic-ui','title':'Optimistic UI','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/performance','title':'Performance','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/philosophy','title':'Philosophy','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/resource-routes','title':'Resource Routes','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/routing','title':'Routing','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/styling','title':'Styling','hasContent':true,'order':null,'disabled':false,'children':[]}]},{'slug':'/other-api','title':'Other API','hasContent':false,'order':4,'disabled':false,'children':[{'slug':'/other-api/adapter','title':'@remix-run/{adapter}','hasContent':true,'order':2,'disabled':false,'children':[]},{'slug':'/other-api/constraints','title':'Module Constraints','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/other-api/dev','title':'@remix-run/dev (CLI)','hasContent':true,'order':1,'disabled':false,'children':[]},{'slug':'/other-api/fetch','title':'Web Fetch API','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/other-api/node','title':'@remix-run/node','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/other-api/react-router','title':'React Router v6','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/other-api/serve','title':'@remix-run/serve','hasContent':true,'order':null,'disabled':false,'children':[]}]},{'slug':'/tutorials','title':'Tutorials','hasContent':false,'order':2,'disabled':false,'children':[{'slug':'/tutorials/blog','title':'Developer Blog','hasContent':true,'order':1,'disabled':false,'children':[]},{'slug':'/tutorials/jokes','title':'Jokes App','hasContent':true,'order':2,'disabled':false,'children':[]}]}],'routes/docs/$lang.$version/$':{'id':'ckwdu8zfd0562f0ezw7i28dxf','filePath':'/tutorials/blog.md','md':'\n# Quickstart\n\nWe\'re going to be short on words and quick on code in this quickstart. If you\'re looking to see what Remix is all about in 15 minutes, this is it.\n\n<docs-info>\uD83D\uDCBF Hey I\'m Derrick the Remix Compact Disk \uD83D\uDC4B Whenever you\'re supposed to _do_ something you\'ll see me</docs-info>\n\nThis uses TypeScript, but we always pepper the types on after we write the code. This isn\'t our normal workflow, but some of you aren\'t using TypeScript so we didn\'t want to clutter up the code for you. Normally we create the type as we write the code so that we get it right the first time (measure twice, but once!).\n\n## Creating the project\n\n\uD83D\uDCBF Initialize a new Remix project\n\n```sh\nnpx create-remix@latest\n# follow the prompts\ncd [whatever you named the project]\nnpm run dev\n```\n\nOpen up [https://localhost:3000](https://localhost:3000), the app should be running. If you want, take a minute and poke around the starter template, there\'s a lot of information in there.\n\n## Your First Route\n\nWe\'re going to make a new route to render at the "/posts" URL. Before we do that, let\'s link to it.\n\nThere\'s a bit going on in the file, find into the `Layout` component and right after the link to "Home", add a new link to "/posts"\n\n\uD83D\uDCBF Add a link to posts in `app/root.tsx`\n\n```tsx\n<li>\n  <Link to="/posts">Posts</Link>\n</li>\n```\n\nBack in the browser you should see your new link in the header. Go ahead and click it, you should see a 404 page. Let\'s create the route now:\n\n\uD83D\uDCBF Create a new file in `app/routes/posts/index.tsx`\n\n```sh\nmkdir app/routes/posts\ntouch app/routes/posts/index.tsx\n```\n\n<docs-info>Any time you see terminal commands to create files or folders, you can of course do that however you\'d like, but using `mkdir` and `touch` is just a way for us to make it clear which files you should be creating.</docs-info>\n\nWe could have named it just `posts.tsx` but we\'ll have another route soon and it\'ll be nice to put them by each other. An index route will render at the folder\'s path (just like index.html on a web server).\n\nYou\'ll probably see the screen just go blank with `null`. You\'ve got a route but there\'s nothing there yet. Let\'s add a component and export it as the default:\n\n\uD83D\uDCBF Make the posts component\n\n```tsx filename=app/routes/posts/index.tsx\nexport default function Posts() {\n  return (\n    <div>\n      <h1>Posts</h1>\n    </div>\n  );\n}\n```\n\nYou might need to refresh the browser to see our new, bare-bones posts route.\n\n## Loading Data\n\nData loading is built in to Remix.\n\nIf your web dev background is primarily in the last few years you\'re probably used to creating two things here: an API route to provide data and a frontend component that consumes it. In Remix your frontend component is also it\'s own API route and it already knows how to talk to itself on the server from the browser. That is, you don\'t have to fetch it.\n\nIf your background is a bit farther back than that with Rails, PHP, etc. Then you can think of your Remix routes as backend views using React for templating, but then they know how to seamlessly hydrate in the browser to add some flair. It\'s progressive enhacement realized in its fullest.\n\nSo let\'s get to it and provide some data to our component.\n\n\uD83D\uDCBF Make the posts route "loader"\n\n```tsx filename=app/routes/posts/index.tsx lines=[1,3-14,17]\nimport { useLoaderData } from "remix";\n\nexport let loader = () => {\n  return [\n    {\n      slug: "my-first-post",\n      title: "My First Post"\n    },\n    {\n      slug: "90s-mixtape",\n      title: "A Mixtape I Made Just For You"\n    }\n  ];\n};\n\nexport default function Posts() {\n  let posts = useLoaderData();\n  console.log(posts);\n  return (\n    <div>\n      <h1>Posts</h1>\n    </div>\n  );\n}\n```\n\nLoaders are the backend "API" for their component and it\'s already wired up for you through `useLoaderData`. It\'s a little wild how blurry the line is between the client and the serever in a Remix route. If you have your server and browser consoles both open, you\'ll note that they both logged our post data. That\'s because Remix rendered on the server to send a full HTML document like a traditional web framework, but it also hydrated in the client and logged there too.\n\n\uD83D\uDCBF Render links to our posts\n\n```tsx filename=app/routes/posts/index.tsx lines=[9-15]\nimport { Link, useLoaderData } from "remix";\n\n// ...\nexport default function Posts() {\n  let posts = useLoaderData();\n  return (\n    <div>\n      <h1>Posts</h1>\n      <ul>\n        {posts.map(post => (\n          <li key={post.slug}>\n            <Link to={post.slug}>{post.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n```\n\nTypeScript is mad, so let\'s help it out:\n\n\uD83D\uDCBF Add the Post type and generic for `useLoaderData`\n\n```tsx filename=app/routes/posts/index.tsx lines=[3-6,9,19,23]\nimport { Link, useLoaderData } from "remix";\n\ntype Post = {\n  slug: string;\n  title: string;\n};\n\nexport let loader = () => {\n  let posts: Post[] = [\n    {\n      slug: "my-first-post",\n      title: "My First Post"\n    },\n    {\n      slug: "90s-mixtape",\n      title: "A Mixtape I Made Just For You"\n    }\n  ];\n  return posts;\n};\n\nexport default function Posts() {\n  let posts = useLoaderData<Post[]>();\n  return (\n    <div>\n      <h1>Posts</h1>\n      <ul>\n        {posts.map(post => (\n          <li key={post.slug}>\n            <Link to={post.slug}>{post.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n```\n\nHey, that\'s pretty cool. We get a pretty solid degree of type safety even over a network request because it\'s all defined in the same file. Unless the network blows up while Remix fetches the data, you\'ve got type safety in this component and it\'s API (remember, the component is already its own API route).\n\n## A little refactoring\n\nA solid practice is to create a module that deals with a particular concern. In our case it\'s going to be reading and writing posts. Let\'s set that up now and add a `getPosts` export to our module.\n\n\uD83D\uDCBF Create `app/post.ts`\n\n```sh\ntouch app/post.ts\n```\n\nWe\'re mostly gonna copy/paste it from our route:\n\n```tsx filename=app/post.ts\ntype Post = {\n  slug: string;\n  title: string;\n};\n\nexport function getPosts() {\n  let posts: Post[] = [\n    {\n      slug: "my-first-post",\n      title: "My First Post"\n    },\n    {\n      slug: "90s-mixtape",\n      title: "A Mixtape I Made Just For You"\n    }\n  ];\n  return posts;\n}\n```\n\n\uD83D\uDCBF Update the posts route to use our new posts module\n\n```tsx filename=app/routes/posts/index.tsx\nimport { Link, useLoaderData } from "remix";\nimport { getPosts } from "~/posts";\nimport type { Post } from "~/posts";\n\nexport let loader = () => {\n  return getPosts();\n};\n\n// ...\n```\n\n## Pulling from a data source\n\nIf we were building this for real, we\'d want to store our posts in a database somewhere like Postgres, FauanaDB, Supabase, etc. This is a quickstart, so we\'re just going to use the file system.\n\nInstead of hard-coding our links, we\'ll read them from the file system.\n\n\uD83D\uDCBF Create a "posts/" folder in the root of the project, not in the app directory, but next to it.\n\n```sh\nmkdir posts\n```\n\nNow add some posts:\n\n```sh\ntouch posts/my-first-post.md\ntouch posts/90s-mixtape.md\n```\n\nPut whatever you want in them, but make sure they\'ve got some "front matter" attributes in them with a title\n\n```md filename=posts/my-first-post.md\n---\ntitle: My First Post\n---\n\n# This is my first post\n\nIsn\'t it great?\n```\n\n```md filename=posts/90s-mix-cdr.md\n---\ntitle: 90s Mixtape\n---\n\n# 90s Mixtape\n\n- I wish (Skee-Lo)\n- This Is How We Do It (Montell Jordan)\n- Everlong (Foo Fighters)\n- Ms. Jackson (Outkast)\n- Interstate Love Song (Stone Temple Pilots)\n- Killing Me Softely With His Song (Fugees, Ms. Lauryn Hill)\n- Just a Friend (Biz Markie)\n- The Man Who Sold The World (Nirvana)\n- Semi-Charmed Lif (Third Eye Blind)\n- ...Baby One More Time (Britney Spears)\n- Better Man (Pearl Jam)\n- It\'s All Coming Back to Me Now (C\xE9line Dion)\n- This Kiss (Faith Hill)\n- Fly Away (Lenny Kravits)\n- Scar Tissue (Red Hot Chili Peppers)\n- Santa Monica (Everclear)\n- C\'mon N\' Ride it (Quad City DJ\'s)\n```\n\n\uD83D\uDCBF Update `getPosts` to read from the file system\n\nWe\'ll need a node module for this:\n\n```sh\nnpm add front-matter\n```\n\n```tsx filename=app/post.ts lines=[1-3,10,13-27]\nimport path from "path";\nimport fs from "fs/promises";\nimport parseFrontMatter from "front-matter";\n\nexport type Post = {\n  slug: string;\n  title: string;\n};\n\nlet postsPath = path.join(__dirname, "../posts");\n\nexport async function getPosts() {\n  let dir = await fs.readdir(postsPath);\n  return Promise.all(\n    dir.map(async filename => {\n      let file = await fs.readFile(\n        path.join(postsPath, filename)\n      );\n      let { attributes } = parseFrontMatter(\n        file.toString()\n      );\n      return {\n        slug: filename.replace(/\\.md$/, ""),\n        title: attributes.title\n      };\n    })\n  );\n}\n```\n\nThis isn\'t a Node file system tutorial, so you\'ll just have to trust us on that code. As mentioned before, you could pull this markdown from a database somewhere (which we will show you in a later tutorial).\n\nTypeScript is gonna be mad at that code, let\'s make it happy.\n\nSince we\'re reading in a file, the type system has no idea what\'s in there, so we need a runtime check, for that we\'ll want an `invariant` method to make runtime checks like this easy.\n\n\uD83D\uDCBF Ensure our posts have the proper meta data and get type safety\n\n```sh\nnpm add tiny-invariant\n```\n\n```tsx filename=app/post.ts lines=[4,11-13,17-21,33-36]\nimport path from "path";\nimport fs from "fs/promises";\nimport parseFrontMatter from "front-matter";\nimport invariant from "tiny-invariant";\n\nexport type Post = {\n  slug: string;\n  title: string;\n};\n\nexport type PostMarkdownAttributes = {\n  title: string;\n};\n\nlet postsPath = path.join(__dirname, "../posts");\n\nfunction isValidPostAttributes(\n  attributes: any\n): attributes is PostMarkdownAttributes {\n  return attributes?.title;\n}\n\nexport async function getPosts() {\n  let dir = await fs.readdir(postsPath);\n  return Promise.all(\n    dir.map(async filename => {\n      let file = await fs.readFile(\n        path.join(postsPath, filename)\n      );\n      let { attributes } = parseFrontMatter(\n        file.toString()\n      );\n      invariant(\n        isValidPostAttributes(attributes),\n        `${filename} has bad meta data!`\n      );\n      return {\n        slug: filename.replace(/\\.md$/, ""),\n        title: attributes.title\n      };\n    })\n  );\n}\n```\n\nEven if you aren\'t using TypeScript you\'re going to want that `invariant` check so you know what\'s wrong, too.\n\nOkay! Back in the UI we should see our list of posts. Feel free to add some more posts, refresh, and watch the list grow.\n\n## Dynamic Route Params\n\nNow let\'s make a route to actually view the post. We want these URLs to work:\n\n```\n/posts/my-first-post\n/posts/90s-mix-cdr\n```\n\nInstead of creating a route for every single one of our posts, we can use a "dynamic segment" in the url. Remix will parse and pass to us so we can look up the post dynamically.\n\n\uD83D\uDCBF Create a dynamic route at "app/routes/posts/$slug.tsx"\n\n```sh\ntouch app/routes/posts/\\$slug.tsx\n```\n\n```tsx filename=app/routes/posts/$slug.tsx\nexport default function PostSlug() {\n  return (\n    <div>\n      <h1>Some Post</h1>\n    </div>\n  );\n}\n```\n\nYou can click one of your posts and should see the new page.\n\n\uD83D\uDCBF Add a loader to access the params\n\n```tsx filename=app/routes/posts/$slug.tsx lines=[1,3-5,8,11]\nimport { useLoaderData } from "remix";\n\nexport let loader = async ({ params }) => {\n  return params.slug;\n};\n\nexport default function PostSlug() {\n  let slug = useLoaderData();\n  return (\n    <div>\n      <h1>Some Post: {slug}</h1>\n    </div>\n  );\n}\n```\n\nThe part of the filename attached to the `$` becomes a named key on the `params` object that comes into your loader. This is how we\'ll look up our blog post.\n\n\uD83D\uDCBF Let\'s get some help from TypeScript for the loader function signature.\n\n```tsx filename=app/routes/posts/$slug.tsx lines=[2,4]\nimport { useLoaderData } from "remix";\nimport type { LoaderFunction } from "remix";\n\nexport let loader: LoaderFunction = async ({ params }) => {\n  return params.slug;\n};\n```\n\nNow let\'s actually read the post from the file system.\n\n\uD83D\uDCBF Add a `getPost` function to our post module\n\nPut this function anywhere in the `app/post.ts` module:\n\n```tsx filename=app/post.ts lines=[2,4]\n// ...\nexport async function getPost(slug: string) {\n  let filepath = path.join(postsPath, slug + ".md");\n  let file = await fs.readFile(filepath);\n  let { attributes } = parseFrontMatter(file.toString());\n  invariant(\n    isValidPostAttributes(attributes),\n    `Post ${filepath} is missing attributes`\n  );\n  return { slug, title: attributes.title };\n}\n```\n\n\uD83D\uDCBF Use the new `getPost` function in the route\n\n```tsx filename=app/routes/posts/$slug.tsx lines=[3,4,7,8,15]\nimport { useLoaderData } from "remix";\nimport type { LoaderFunction } from "remix";\nimport { getPost } from "~/post";\nimport invariant from "tiny-invariant";\n\nexport let loader: LoaderFunction = async ({ params }) => {\n  invariant(params.slug, "expected params.slug");\n  return getPost(params.slug);\n};\n\nexport default function PostSlug() {\n  let post = useLoaderData();\n  return (\n    <div>\n      <h1>{post.title}</h1>\n    </div>\n  );\n}\n```\n\nCheck that out! We\'re now pulling our posts from a data source instead of including it all in the browser as JavaScript.\n\nQuick note on that `invariant`. Because `params` comes from the URL, we can\'t be totally sure that `params.slug` will be defined--maybe you change the name of the file to `$postId.ts`! It\'s good practice to validate that stuff with `invariant`, and it makes TypeScript happy too.\n\nLet\'s use the same markdown parser for our blog here that we actually use on this very website. It\'s not documented (yet? maybe one day?) but you can use whatever markdown parser you want instead.\n\n\uD83D\uDCBF Parse the markdown into HTML\n\n```sh\nnpm add @ryanflorence/md\n```\n\n```tsx filename=app/post.ts lines=[4,11,12]\nexport async function getPost(slug: string) {\n  let filepath = path.join(postsPath, slug + ".md");\n  let file = await fs.readFile(filepath);\n  let { attributes, body } = parseFrontMatter(\n    file.toString()\n  );\n  invariant(\n    isValidPostAttributes(attributes),\n    `Post ${filepath} is missing attributes`\n  );\n  let html = await processMarkdown(body);\n  return { slug, html, title: attributes.title };\n}\n```\n\n\uD83D\uDCBF Render the HTML in the route\n\n```tsx filename=app/routes/posts/$slug.tsx lines=[5]\n// ...\nexport default function PostSlug() {\n  let post = useLoaderData();\n  return (\n    <div dangerouslySetInnerHTML={{ __html: post.html }} />\n  );\n}\n```\n\nHoly smokes, you did it. You have a blog.\n\n## Creating Blog Posts\n\nRight now our blog posts (and typo fixes) are tied to deploys. Thats gross. The idea here is that your posts would be backed by a database, so we need a way to create a new blog post. We\'re going to be using actions for that.\n\nLet\'s make a new "admin" section of the app.\n\n\uD83D\uDCBF Create an admin route\n\n```sh\ntouch app/routes/admin.tsx\n```\n\n```tsx filename=app/routes/admin.tsx\nimport { Link, useLoaderData } from "remix";\nimport { getPosts } from "~/post";\nimport type { Post } from "~/post";\n\nexport let loader = () => {\n  return getPosts();\n};\n\nexport default function Admin() {\n  let posts = useLoaderData<Post[]>();\n  return (\n    <div className="admin">\n      <nav>\n        <h1>Admin</h1>\n        <ul>\n          {posts.map(post => (\n            <li key={post.slug}>\n              <Link to={post.slug}>{post.title}</Link>\n            </li>\n          ))}\n        </ul>\n      </nav>\n      <main>...</main>\n    </div>\n  );\n}\n```\n\nYou should recognize a lot of that code from the posts route. We set up some extra HTML structure cause we\'re going to style this real quick.\n\n\uD83D\uDCBF Create an admin stylesheet\n\n```sh\ntouch app/styles/admin.css\n```\n\n```css filename=app/styles/admin.css\n.admin {\n  display: flex;\n}\n\n.admin > nav {\n  padding-right: 2rem;\n}\n\n.admin > main {\n  flex: 1;\n  border-left: solid 1px #ccc;\n  padding-left: 2rem;\n}\n\nem {\n  color: red;\n}\n```\n\n\uD83D\uDCBF Link to the stylesheet in the admin route\n\n```tsx filename=app/routes/admin.tsx lines=[4,6-8]\nimport { Link, useLoaderData } from "remix";\nimport { getPosts } from "~/post";\nimport type { Post } from "~/post";\nimport adminStyles from "~/styles/admin.css";\n\nexport let links = () => {\n  return [{ rel: "stylesheet", href: adminStyles }];\n};\n\n// ...\n```\n\nEach route can export a `links` function that returns array of `<link>` tags, except in object form instead of HTML. So we use `{ rel: "stylesheet", href: adminStyles}` instead of `<link rel="stylesheet" href="https://remix.run/docs/en/v1.0.4/tutorials/..." />`. This allows Remix to merge all of your rendered routes links together and render them in the `<Links/>` element at the top of your document. You can see it in `root.tsx` if you\'re curious.\n\nAlright, you should have a a decent looking page with the posts on the left and a placeholder on the right.\n\n## Index Routes\n\nLet\'s fill in that placeholder with an index route for admin. Hang with us, we\'re introducing "nested routes" here where your route file nesting becomes UI component nesting.\n\n\uD83D\uDCBF Create a folder for `admin.tsx`\'s child routes, with an index inside\n\n```sh\nmkdir app/routes/admin\ntouch app/routes/admin/index.tsx\n```\n\n```tsx filename=app/routes/admin/index.tsx\nimport { Link } from "remix";\n\nexport default function AdminIndex() {\n  return (\n    <p>\n      <Link to="new">Create a New Post</Link>\n    </p>\n  );\n}\n```\n\nIf you refresh you\'re not going to see it yet. Every route inside of `app/routes/admin/` can now render _inside_ of `app/routes/admin.tsx` when their URL matches. You get to control which part of the `admin.tsx` layout the child routes render.\n\n\uD83D\uDCBF Add an outlet to the admin page\n\n```tsx filename=app/routes/admin.tsx lines=[19]\nimport { Outlet, Link, useLoaderData } from "remix";\n\n//...\nexport default function Admin() {\n  let posts = useLoaderData<Post[]>();\n  return (\n    <div className="admin">\n      <nav>\n        <h1>Admin</h1>\n        <ul>\n          {posts.map(post => (\n            <li key={post.slug}>\n              <Link to={post.slug}>{post.title}</Link>\n            </li>\n          ))}\n        </ul>\n      </nav>\n      <main>\n        <Outlet />\n      </main>\n    </div>\n  );\n}\n```\n\nHang with us for a minute, index routes can be confusing at first. Just know that when the URL matches the parent route\'s path, the index will render inside the outlet.\n\nMaybe this will help, let\'s add the "/admin/new" route and see what happens when we click the link.\n\n\uD83D\uDCBF Create the `app/routes/admin/new.tsx` route\n\n```tsx filename=app/routes/admin/new.tsx\nexport default function NewPost() {\n  return <h2>New Post</h2>;\n}\n```\n\nNow click the link from the index route and watch the `<Outlet/>` automatically swap out the index route for the "new" route!\n\n## Actions\n\nWe\'re gonna get serious now. Let\'s build a form to create a new post in the our new "new" route.\n\n\uD83D\uDCBF Add a form to the new route\n\n```tsx filename=app/routes/admin/new.tsx lines=[1,5-22]\nimport { Form } from "remix";\n\nexport default function NewPost() {\n  return (\n    <Form method="post">\n      <p>\n        <label>\n          Post Title: <input type="text" name="title" />\n        </label>\n      </p>\n      <p>\n        <label>\n          Post Slug: <input type="text" name="slug" />\n        </label>\n      </p>\n      <p>\n        <label htmlFor="markdown">Markdown</label>\n        <br />\n        <textarea rows={20} name="markdown" />\n      </p>\n      <p>\n        <button type="submit">Create Post</button>\n      </p>\n    </Form>\n  );\n}\n```\n\nIf you love HTML like us, you should be getting pretty excited. If you\'ve been doing a lot of `<form onSubmit>` and `<button onClick>` you\'re about to have your mind blown by HTML.\n\nAll you really need for a feature like this is a form to get data from the user and a backend action to handle it. And in Remix, that\'s all you have to.\n\nLet\'s create the essential code that knows how to save a post first in our `post.ts` module.\n\n\uD83D\uDCBF Add `createPost` anywhere inside of `app/post.ts`\n\n```tsx filename=app/post.ts\n// ...\nexport async function createPost(post) {\n  let md = `---\\ntitle: ${post.title}\\n---\\n\\n${post.markdown}`;\n  await fs.writeFile(\n    path.join(postsPath, post.slug + ".md"),\n    md\n  );\n  return getPost(post.slug);\n}\n```\n\n\uD83D\uDCBF Call `createPost` from the new post route\'s action\n\n```tsx filename=app/routes/admin/new.tsx lines=[1,2,4-9]\nimport { redirect, Form } from "remix";\nimport { createPost } from "~/post";\n\nexport let action = async ({ request }) => {\n  let formData = await request.formData();\n\n  let title = formData.get("title");\n  let slug = formData.get("slug");\n  let markdown = formData.get("markdown");\n\n  await createPost({ title, slug, markdown });\n\n  return redirect("/admin");\n};\n\nexport default function NewPost() {\n  // ...\n}\n```\n\nThat\'s it. Remix (and the browser) will take of the rest. Click the submit button and watch the sidebar that lists our posts update automatically.\n\nIn HTML an input\'s `name` attribute is sent over the network and available by the same name on the request\'s `formData`.\n\nTypeScript is mad again, let\'s add some types.\n\n\uD83D\uDCBF Add the types to both files we changed\n\n```tsx filename=app/post.ts lines=[2-6,8]\n// ...\ntype NewPost = {\n  title: string;\n  slug: string;\n  markdown: string;\n};\n\nexport async function createPost(post: NewPost) {\n  let md = `---\\ntitle: ${post.title}\\n---\\n\\n${post.markdown}`;\n  await fs.writeFile(\n    path.join(postsPath, post.slug + ".md"),\n    md\n  );\n  return getPost(post.slug);\n}\n\n//...\n```\n\n```tsx filename=app/routes/admin/new.tsx lines=[2,5]\nimport { Form, redirect } from "remix";\nimport type { ActionFunction } from "remix";\nimport { createPost } from "~/post";\n\nexport let action: ActionFunction = async ({ request }) => {\n  let formData = await request.formData();\n\n  let title = formData.get("title");\n  let slug = formData.get("slug");\n  let markdown = formData.get("markdown");\n\n  await createPost({ title, slug, markdown });\n\n  return redirect("/admin");\n};\n```\n\nWhether you\'re using TypeScript or not, we\'ve got a problem when the user doesn\'t provide values on some of these fields (and TS is still mad about that call to `createPost`).\n\nLet\'s add some validation before we create the post.\n\n\uD83D\uDCBF Validate if the form data contains what we need, and return the errors if not\n\n```tsx filename=app/routes/admin/new.tsx lines=[11-14,16-18]\n//...\nimport invariant from "tiny-invariant";\n\nexport let action: ActionFunction = async ({ request }) => {\n  let formData = await request.formData();\n\n  let title = formData.get("title");\n  let slug = formData.get("slug");\n  let markdown = formData.get("markdown");\n\n  let errors = {};\n  if (!title) errors.title = true;\n  if (!slug) errors.slug = true;\n  if (!markdown) errors.markdown = true;\n\n  if (Object.keys(errors).length) {\n    return errors;\n  }\n\n  await createPost({ title, slug, markdown });\n\n  return redirect("/admin");\n};\n```\n\nNotice we don\'t return a redirect this time, we actually return the errors. These errors are available to the component via `useActionData`. It\'s just like `useLoaderData` but the data comes from the action after a form POST.\n\n\uD83D\uDCBF Add validation messages to the UI\n\n```tsx filename=app/routes/admin/new.tsx lines=[1,12-13,19-20,25-26]\nimport { useActionData, Form, redirect } from "remix";\n\n// ...\n\nexport default function NewPost() {\n  let errors = useActionData();\n\n  return (\n    <Form method="post">\n      <p>\n        <label>\n          Post Title:{" "}\n          {errors?.title && <em>Title is required</em>}\n          <input type="text" name="title" />\n        </label>\n      </p>\n      <p>\n        <label>\n          Post Slug:{" "}\n          {errors?.slug && <em>Slug is required</em>}\n          <input type="text" name="slug" />\n        </label>\n      </p>\n      <p>\n        <label htmlFor="markdown">Markdown:</label>{" "}\n        {errors?.markdown && <em>Markdown is required</em>}\n        <br />\n        <textarea rows={20} name="markdown" />\n      </p>\n      <p>\n        <button type="submit">Create Post</button>\n      </p>\n    </Form>\n  );\n}\n```\n\nTypeScript is still mad, so let\'s add some invariants to make it happy.\n\n```tsx filename=app/routes/admin/new.tsx lines=[11-14,16-18]\n//...\nimport invariant from "tiny-invariant";\n\nexport let action: ActionFunction = async ({ request }) => {\n  // ...\n\n  if (Object.keys(errors).length) {\n    return errors;\n  }\n\n  invariant(typeof title === "string");\n  invariant(typeof slug === "string");\n  invariant(typeof markdown === "string");\n  await createPost({ title, slug, markdown });\n\n  return redirect("/admin");\n};\n```\n\nFor some real fun, disable JavaScript in your dev tools and try it out. Because Remix is built on the fundamentals of HTTP and HTML, this whole thing works without JavaScript in the browser. But that\'s not the point. Let\'s slow this down and add some "pending UI" to our form.\n\n\uD83D\uDCBF Slow down our action with a fake delay\n\n```tsx filename=app/routes/admin/new.tsx lines=[3]\n// ...\nexport let action: ActionFunction = async ({ request }) => {\n  await new Promise(res => setTimeout(res, 1000));\n  let formData = await request.formData();\n  let title = formData.get("title");\n  let slug = formData.get("slug");\n  let markdown = formData.get("markdown");\n  // ...\n};\n//...\n```\n\n\uD83D\uDCBF Add some pending UI with `useTransition`\n\n```tsx filename=app/routes/admin/new.tsx lines=[2,12,20-22]\nimport {\n  useTransition,\n  useActionData,\n  Form,\n  redirect\n} from "remix";\n\n// ...\n\nexport default function NewPost() {\n  let errors = useActionData();\n  let transition = useTransition();\n\n  return (\n    <Form method="post">\n      {/* ... */}\n\n      <p>\n        <button type="submit">\n          {transition.submission\n            ? "Creating..."\n            : "Create Post"}\n        </button>\n      </p>\n    </Form>\n  );\n}\n```\n\nNow the user gets an enhanced experience than if we had just done this without JavaScript in the browser at all. Some other things that you could do to make it better is automatically slugify the title into the slug field or let the user override it (maybe we\'ll add that later).\n\nThat\'s it for today! You\'re homework is to make an `/admin/edit` page for your posts. The links are already there in the sidebar but they 404! Create a new route that reads the post, puts them into the fields. All the code you need is already in `app/routes/posts/$slug.ts` and `app/routes/posts/new.ts`. You just gotta put it together.\n\nWe hope you love Remix!\n','html':'<div class="md-toc-container"><div class="md-toc-nav" role="navigation"><ul class="toc">\n<li>\n<p><a href="blog.html#quickstart">Quickstart</a></p>\n<ul>\n<li><a href="blog.html#creating-the-project">Creating the project</a></li>\n<li><a href="blog.html#your-first-route">Your First Route</a></li>\n<li><a href="blog.html#loading-data">Loading Data</a></li>\n<li><a href="blog.html#a-little-refactoring">A little refactoring</a></li>\n<li><a href="blog.html#pulling-from-a-data-source">Pulling from a data source</a></li>\n<li><a href="blog.html#dynamic-route-params">Dynamic Route Params</a></li>\n<li><a href="blog.html#creating-blog-posts">Creating Blog Posts</a></li>\n<li><a href="blog.html#index-routes">Index Routes</a></li>\n<li><a href="blog.html#actions">Actions</a></li>\n</ul>\n</li>\n</ul></div><div class="md-prose"><h1 id="quickstart"><a href="blog.html#quickstart" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Quickstart</h1><p>We\'re going to be short on words and quick on code in this quickstart. If you\'re looking to see what Remix is all about in 15 minutes, this is it.</p><p><docs-info>\uD83D\uDCBF Hey I\'m Derrick the Remix Compact Disk \uD83D\uDC4B Whenever you\'re supposed to <em>do</em> something you\'ll see me</docs-info></p><p>This uses TypeScript, but we always pepper the types on after we write the code. This isn\'t our normal workflow, but some of you aren\'t using TypeScript so we didn\'t want to clutter up the code for you. Normally we create the type as we write the code so that we get it right the first time (measure twice, but once!).</p><h2 id="creating-the-project"><a href="blog.html#creating-the-project" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Creating the project</h2><p>\uD83D\uDCBF Initialize a new Remix project</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">npx create-remix@latest\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base03)"># follow the prompts</span>\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0D)">cd</span> [whatever you named the project]\n</span><span class="codeblock-line" data-line-number="4">npm run dev\n</span></code></pre></div><p>Open up <a href="https://localhost:3000">https://localhost:3000</a>, the app should be running. If you want, take a minute and poke around the starter template, there\'s a lot of information in there.</p><h2 id="your-first-route"><a href="blog.html#your-first-route" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Your First Route</h2><p>We\'re going to make a new route to render at the "/posts" URL. Before we do that, let\'s link to it.</p><p>There\'s a bit going on in the file, find into the <code>Layout</code> component and right after the link to "Home", add a new link to "/posts"</p><p>\uD83D\uDCBF Add a link to posts in <code>app/root.tsx</code></p><div><pre data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">&#x3C;<span style="color: var(--base08)">li</span>>\n</span><span class="codeblock-line" data-line-number="2">  &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">/posts</span>">Posts&#x3C;/<span style="color: var(--base0A)">Link</span>>\n</span><span class="codeblock-line" data-line-number="3">&#x3C;/<span style="color: var(--base08)">li</span>>\n</span></code></pre></div><p>Back in the browser you should see your new link in the header. Go ahead and click it, you should see a 404 page. Let\'s create the route now:</p><p>\uD83D\uDCBF Create a new file in <code>app/routes/posts/index.tsx</code></p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">mkdir app/routes/posts\n</span><span class="codeblock-line" data-line-number="2">touch app/routes/posts/index.tsx\n</span></code></pre></div><p><docs-info>Any time you see terminal commands to create files or folders, you can of course do that however you\'d like, but using <code>mkdir</code> and <code>touch</code> is just a way for us to make it clear which files you should be creating.</docs-info></p><p>We could have named it just <code>posts.tsx</code> but we\'ll have another route soon and it\'ll be nice to put them by each other. An index route will render at the folder\'s path (just like index.html on a web server).</p><p>You\'ll probably see the screen just go blank with <code>null</code>. You\'ve got a route but there\'s nothing there yet. Let\'s add a component and export it as the default:</p><p>\uD83D\uDCBF Make the posts component</p><div><pre data-filename="app/routes/posts/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Posts</span>() {\n</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="3">    &#x3C;<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="4">      &#x3C;<span style="color: var(--base08)">h1</span>>Posts&#x3C;/<span style="color: var(--base08)">h1</span>>\n</span><span class="codeblock-line" data-line-number="5">    &#x3C;/<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="6">  );\n</span><span class="codeblock-line" data-line-number="7">}\n</span></code></pre></div><p>You might need to refresh the browser to see our new, bare-bones posts route.</p><h2 id="loading-data"><a href="blog.html#loading-data" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Loading Data</h2><p>Data loading is built in to Remix.</p><p>If your web dev background is primarily in the last few years you\'re probably used to creating two things here: an API route to provide data and a frontend component that consumes it. In Remix your frontend component is also it\'s own API route and it already knows how to talk to itself on the server from the browser. That is, you don\'t have to fetch it.</p><p>If your background is a bit farther back than that with Rails, PHP, etc. Then you can think of your Remix routes as backend views using React for templating, but then they know how to seamlessly hydrate in the browser to add some flair. It\'s progressive enhacement realized in its fullest.</p><p>So let\'s get to it and provide some data to our component.</p><p>\uD83D\uDCBF Make the posts route "loader"</p><div><pre data-filename="app/routes/posts/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="3"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span> <span style="color: var(--base0E)">=</span> () <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base0E)">return</span> [\n</span><span class="codeblock-line" data-highlight="true" data-line-number="5">    {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="6">      slug: "<span style="color: var(--base0B)">my-first-post</span>",\n</span><span class="codeblock-line" data-highlight="true" data-line-number="7">      title: "<span style="color: var(--base0B)">My First Post</span>"\n</span><span class="codeblock-line" data-highlight="true" data-line-number="8">    },\n</span><span class="codeblock-line" data-highlight="true" data-line-number="9">    {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="10">      slug: "<span style="color: var(--base0B)">90s-mixtape</span>",\n</span><span class="codeblock-line" data-highlight="true" data-line-number="11">      title: "<span style="color: var(--base0B)">A Mixtape I Made Just For You</span>"\n</span><span class="codeblock-line" data-highlight="true" data-line-number="12">    }\n</span><span class="codeblock-line" data-highlight="true" data-line-number="13">  ];\n</span><span class="codeblock-line" data-highlight="true" data-line-number="14">};\n</span><span class="codeblock-line" data-line-number="15">\n</span><span class="codeblock-line" data-line-number="16"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Posts</span>() {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="17">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>();\n</span><span class="codeblock-line" data-line-number="18">  <span style="color: var(--base08)">console</span>.<span style="color: var(--base0D)">log</span>(<span style="color: var(--base08)">posts</span>);\n</span><span class="codeblock-line" data-line-number="19">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="20">    &#x3C;<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="21">      &#x3C;<span style="color: var(--base08)">h1</span>>Posts&#x3C;/<span style="color: var(--base08)">h1</span>>\n</span><span class="codeblock-line" data-line-number="22">    &#x3C;/<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="23">  );\n</span><span class="codeblock-line" data-line-number="24">}\n</span></code></pre></div><p>Loaders are the backend "API" for their component and it\'s already wired up for you through <code>useLoaderData</code>. It\'s a little wild how blurry the line is between the client and the serever in a Remix route. If you have your server and browser consoles both open, you\'ll note that they both logged our post data. That\'s because Remix rendered on the server to send a full HTML document like a traditional web framework, but it also hydrated in the client and logged there too.</p><p>\uD83D\uDCBF Render links to our posts</p><div><pre data-filename="app/routes/posts/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2">\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Posts</span>() {\n</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>();\n</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="7">    &#x3C;<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="8">      &#x3C;<span style="color: var(--base08)">h1</span>>Posts&#x3C;/<span style="color: var(--base08)">h1</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="9">      &#x3C;<span style="color: var(--base08)">ul</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="10">        <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">posts</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base08)">post</span> <span style="color: var(--base0D)">=></span> (\n</span><span class="codeblock-line" data-highlight="true" data-line-number="11">          &#x3C;<span style="color: var(--base08)">li</span> <span style="color: var(--base0D)">key</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="12">            &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base0A)">Link</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="13">          &#x3C;/<span style="color: var(--base08)">li</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="14">        ))<span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="15">      &#x3C;/<span style="color: var(--base08)">ul</span>>\n</span><span class="codeblock-line" data-line-number="16">    &#x3C;/<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="17">  );\n</span><span class="codeblock-line" data-line-number="18">}\n</span></code></pre></div><p>TypeScript is mad, so let\'s help it out:</p><p>\uD83D\uDCBF Add the Post type and generic for <code>useLoaderData</code></p><div><pre data-filename="app/routes/posts/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="3"><span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">Post</span> <span style="color: var(--base0E)">=</span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="5">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="6">};\n</span><span class="codeblock-line" data-line-number="7">\n</span><span class="codeblock-line" data-line-number="8"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span> <span style="color: var(--base0E)">=</span> () <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="9">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">Post</span>[] <span style="color: var(--base0E)">=</span> [\n</span><span class="codeblock-line" data-line-number="10">    {\n</span><span class="codeblock-line" data-line-number="11">      slug: "<span style="color: var(--base0B)">my-first-post</span>",\n</span><span class="codeblock-line" data-line-number="12">      title: "<span style="color: var(--base0B)">My First Post</span>"\n</span><span class="codeblock-line" data-line-number="13">    },\n</span><span class="codeblock-line" data-line-number="14">    {\n</span><span class="codeblock-line" data-line-number="15">      slug: "<span style="color: var(--base0B)">90s-mixtape</span>",\n</span><span class="codeblock-line" data-line-number="16">      title: "<span style="color: var(--base0B)">A Mixtape I Made Just For You</span>"\n</span><span class="codeblock-line" data-line-number="17">    }\n</span><span class="codeblock-line" data-line-number="18">  ];\n</span><span class="codeblock-line" data-highlight="true" data-line-number="19">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">posts</span>;\n</span><span class="codeblock-line" data-line-number="20">};\n</span><span class="codeblock-line" data-line-number="21">\n</span><span class="codeblock-line" data-line-number="22"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Posts</span>() {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="23">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>&#x3C;<span style="color: var(--base0A)">Post</span>[]>();\n</span><span class="codeblock-line" data-line-number="24">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="25">    &#x3C;<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="26">      &#x3C;<span style="color: var(--base08)">h1</span>>Posts&#x3C;/<span style="color: var(--base08)">h1</span>>\n</span><span class="codeblock-line" data-line-number="27">      &#x3C;<span style="color: var(--base08)">ul</span>>\n</span><span class="codeblock-line" data-line-number="28">        <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">posts</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base08)">post</span> <span style="color: var(--base0D)">=></span> (\n</span><span class="codeblock-line" data-line-number="29">          &#x3C;<span style="color: var(--base08)">li</span> <span style="color: var(--base0D)">key</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>>\n</span><span class="codeblock-line" data-line-number="30">            &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base0A)">Link</span>>\n</span><span class="codeblock-line" data-line-number="31">          &#x3C;/<span style="color: var(--base08)">li</span>>\n</span><span class="codeblock-line" data-line-number="32">        ))<span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-line-number="33">      &#x3C;/<span style="color: var(--base08)">ul</span>>\n</span><span class="codeblock-line" data-line-number="34">    &#x3C;/<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="35">  );\n</span><span class="codeblock-line" data-line-number="36">}\n</span></code></pre></div><p>Hey, that\'s pretty cool. We get a pretty solid degree of type safety even over a network request because it\'s all defined in the same file. Unless the network blows up while Remix fetches the data, you\'ve got type safety in this component and it\'s API (remember, the component is already its own API route).</p><h2 id="a-little-refactoring"><a href="blog.html#a-little-refactoring" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>A little refactoring</h2><p>A solid practice is to create a module that deals with a particular concern. In our case it\'s going to be reading and writing posts. Let\'s set that up now and add a <code>getPosts</code> export to our module.</p><p>\uD83D\uDCBF Create <code>app/post.ts</code></p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">touch app/post.ts\n</span></code></pre></div><p>We\'re mostly gonna copy/paste it from our route:</p><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">Post</span> <span style="color: var(--base0E)">=</span> {\n</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-line-number="4">};\n</span><span class="codeblock-line" data-line-number="5">\n</span><span class="codeblock-line" data-line-number="6"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">getPosts</span>() {\n</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">Post</span>[] <span style="color: var(--base0E)">=</span> [\n</span><span class="codeblock-line" data-line-number="8">    {\n</span><span class="codeblock-line" data-line-number="9">      slug: "<span style="color: var(--base0B)">my-first-post</span>",\n</span><span class="codeblock-line" data-line-number="10">      title: "<span style="color: var(--base0B)">My First Post</span>"\n</span><span class="codeblock-line" data-line-number="11">    },\n</span><span class="codeblock-line" data-line-number="12">    {\n</span><span class="codeblock-line" data-line-number="13">      slug: "<span style="color: var(--base0B)">90s-mixtape</span>",\n</span><span class="codeblock-line" data-line-number="14">      title: "<span style="color: var(--base0B)">A Mixtape I Made Just For You</span>"\n</span><span class="codeblock-line" data-line-number="15">    }\n</span><span class="codeblock-line" data-line-number="16">  ];\n</span><span class="codeblock-line" data-line-number="17">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">posts</span>;\n</span><span class="codeblock-line" data-line-number="18">}\n</span></code></pre></div><p>\uD83D\uDCBF Update the posts route to use our new posts module</p><div><pre data-filename="app/routes/posts/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">getPosts</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/posts</span>";\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">Post</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/posts</span>";\n</span><span class="codeblock-line" data-line-number="4">\n</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span> <span style="color: var(--base0E)">=</span> () <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">getPosts</span>();\n</span><span class="codeblock-line" data-line-number="7">};\n</span><span class="codeblock-line" data-line-number="8">\n</span><span class="codeblock-line" data-line-number="9"><span style="color: var(--base03)">// ...</span>\n</span></code></pre></div><h2 id="pulling-from-a-data-source"><a href="blog.html#pulling-from-a-data-source" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Pulling from a data source</h2><p>If we were building this for real, we\'d want to store our posts in a database somewhere like Postgres, FauanaDB, Supabase, etc. This is a quickstart, so we\'re just going to use the file system.</p><p>Instead of hard-coding our links, we\'ll read them from the file system.</p><p>\uD83D\uDCBF Create a "posts/" folder in the root of the project, not in the app directory, but next to it.</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">mkdir posts\n</span></code></pre></div><p>Now add some posts:</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">touch posts/my-first-post.md\n</span><span class="codeblock-line" data-line-number="2">touch posts/90s-mixtape.md\n</span></code></pre></div><p>Put whatever you want in them, but make sure they\'ve got some "front matter" attributes in them with a title</p><div><pre data-filename="posts/my-first-post.md" data-line-numbers="true" data-lang="md" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0C)">---</span>\n</span><span class="codeblock-line" data-line-number="2">title: My First Post\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0B)">---</span>\n</span><span class="codeblock-line" data-line-number="4">\n</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0D)">#</span><span style="color: var(--base0B)"> </span><span style="color: var(--base0A)">This is my first post</span>\n</span><span class="codeblock-line" data-line-number="6">\n</span><span class="codeblock-line" data-line-number="7">Isn\'t it great?\n</span></code></pre></div><div><pre data-filename="posts/90s-mix-cdr.md" data-line-numbers="true" data-lang="md" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0C)">---</span>\n</span><span class="codeblock-line" data-line-number="2">title: 90s Mixtape\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0B)">---</span>\n</span><span class="codeblock-line" data-line-number="4">\n</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0D)">#</span><span style="color: var(--base0B)"> </span><span style="color: var(--base0A)">90s Mixtape</span>\n</span><span class="codeblock-line" data-line-number="6">\n</span><span class="codeblock-line" data-line-number="7">- I wish (Skee-Lo)\n</span><span class="codeblock-line" data-line-number="8">- This Is How We Do It (Montell Jordan)\n</span><span class="codeblock-line" data-line-number="9">- Everlong (Foo Fighters)\n</span><span class="codeblock-line" data-line-number="10">- Ms. Jackson (Outkast)\n</span><span class="codeblock-line" data-line-number="11">- Interstate Love Song (Stone Temple Pilots)\n</span><span class="codeblock-line" data-line-number="12">- Killing Me Softely With His Song (Fugees, Ms. Lauryn Hill)\n</span><span class="codeblock-line" data-line-number="13">- Just a Friend (Biz Markie)\n</span><span class="codeblock-line" data-line-number="14">- The Man Who Sold The World (Nirvana)\n</span><span class="codeblock-line" data-line-number="15">- Semi-Charmed Lif (Third Eye Blind)\n</span><span class="codeblock-line" data-line-number="16">- ...Baby One More Time (Britney Spears)\n</span><span class="codeblock-line" data-line-number="17">- Better Man (Pearl Jam)\n</span><span class="codeblock-line" data-line-number="18">- It\'s All Coming Back to Me Now (C\xE9line Dion)\n</span><span class="codeblock-line" data-line-number="19">- This Kiss (Faith Hill)\n</span><span class="codeblock-line" data-line-number="20">- Fly Away (Lenny Kravits)\n</span><span class="codeblock-line" data-line-number="21">- Scar Tissue (Red Hot Chili Peppers)\n</span><span class="codeblock-line" data-line-number="22">- Santa Monica (Everclear)\n</span><span class="codeblock-line" data-line-number="23">- C\'mon N\' Ride it (Quad City DJ\'s)\n</span></code></pre></div><p>\uD83D\uDCBF Update <code>getPosts</code> to read from the file system</p><p>We\'ll need a node module for this:</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">npm add front-matter\n</span></code></pre></div><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">path</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">path</span>";\n</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">fs</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">fs/promises</span>";\n</span><span class="codeblock-line" data-highlight="true" data-line-number="3"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">parseFrontMatter</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">front-matter</span>";\n</span><span class="codeblock-line" data-line-number="4">\n</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">Post</span> <span style="color: var(--base0E)">=</span> {\n</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-line-number="8">};\n</span><span class="codeblock-line" data-line-number="9">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="10"><span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">postsPath</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">__dirname</span>, "<span style="color: var(--base0B)">../posts</span>");\n</span><span class="codeblock-line" data-line-number="11">\n</span><span class="codeblock-line" data-line-number="12"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">getPosts</span>() {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="13">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">dir</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readdir</span>(<span style="color: var(--base08)">postsPath</span>);\n</span><span class="codeblock-line" data-highlight="true" data-line-number="14">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0A)">Promise</span>.<span style="color: var(--base0D)">all</span>(\n</span><span class="codeblock-line" data-highlight="true" data-line-number="15">    <span style="color: var(--base08)">dir</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base0E)">async</span> <span style="color: var(--base08)">filename</span> <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="16">      <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">file</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readFile</span>(\n</span><span class="codeblock-line" data-highlight="true" data-line-number="17">        <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">filename</span>)\n</span><span class="codeblock-line" data-highlight="true" data-line-number="18">      );\n</span><span class="codeblock-line" data-highlight="true" data-line-number="19">      <span style="color: var(--base0A)">let</span> { <span style="color: var(--base08)">attributes</span> } <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">parseFrontMatter</span>(\n</span><span class="codeblock-line" data-highlight="true" data-line-number="20">        <span style="color: var(--base08)">file</span>.<span style="color: var(--base0D)">toString</span>()\n</span><span class="codeblock-line" data-highlight="true" data-line-number="21">      );\n</span><span class="codeblock-line" data-highlight="true" data-line-number="22">      <span style="color: var(--base0E)">return</span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="23">        slug: <span style="color: var(--base08)">filename</span>.<span style="color: var(--base0D)">replace</span>(/<span style="color: var(--base0C)">\\.md</span><span style="color: var(--base0E)">$</span>/, ""),\n</span><span class="codeblock-line" data-highlight="true" data-line-number="24">        title: <span style="color: var(--base08)">attributes</span>.<span style="color: var(--base08)">title</span>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="25">      };\n</span><span class="codeblock-line" data-highlight="true" data-line-number="26">    })\n</span><span class="codeblock-line" data-highlight="true" data-line-number="27">  );\n</span><span class="codeblock-line" data-line-number="28">}\n</span></code></pre></div><p>This isn\'t a Node file system tutorial, so you\'ll just have to trust us on that code. As mentioned before, you could pull this markdown from a database somewhere (which we will show you in a later tutorial).</p><p>TypeScript is gonna be mad at that code, let\'s make it happy.</p><p>Since we\'re reading in a file, the type system has no idea what\'s in there, so we need a runtime check, for that we\'ll want an <code>invariant</code> method to make runtime checks like this easy.</p><p>\uD83D\uDCBF Ensure our posts have the proper meta data and get type safety</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">npm add tiny-invariant\n</span></code></pre></div><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">path</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">path</span>";\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">fs</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">fs/promises</span>";\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">parseFrontMatter</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">front-matter</span>";\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">invariant</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">tiny-invariant</span>";\n</span><span class="codeblock-line" data-line-number="5">\n</span><span class="codeblock-line" data-line-number="6"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">Post</span> <span style="color: var(--base0E)">=</span> {\n</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-line-number="9">};\n</span><span class="codeblock-line" data-line-number="10">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="11"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">PostMarkdownAttributes</span> <span style="color: var(--base0E)">=</span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="12">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="13">};\n</span><span class="codeblock-line" data-line-number="14">\n</span><span class="codeblock-line" data-line-number="15"><span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">postsPath</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">__dirname</span>, "<span style="color: var(--base0B)">../posts</span>");\n</span><span class="codeblock-line" data-line-number="16">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="17"><span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">isValidPostAttributes</span>(\n</span><span class="codeblock-line" data-highlight="true" data-line-number="18">  <span style="color: var(--base08)">attributes</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">any</span>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="19">)<span style="color: var(--base0E)">:</span> <span style="color: var(--base08)">attributes</span> <span style="color: var(--base0E)">is</span> <span style="color: var(--base0A)">PostMarkdownAttributes</span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="20">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">attributes</span>?.<span style="color: var(--base08)">title</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="21">}\n</span><span class="codeblock-line" data-line-number="22">\n</span><span class="codeblock-line" data-line-number="23"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">getPosts</span>() {\n</span><span class="codeblock-line" data-line-number="24">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">dir</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readdir</span>(<span style="color: var(--base08)">postsPath</span>);\n</span><span class="codeblock-line" data-line-number="25">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0A)">Promise</span>.<span style="color: var(--base0D)">all</span>(\n</span><span class="codeblock-line" data-line-number="26">    <span style="color: var(--base08)">dir</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base0E)">async</span> <span style="color: var(--base08)">filename</span> <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-line-number="27">      <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">file</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readFile</span>(\n</span><span class="codeblock-line" data-line-number="28">        <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">filename</span>)\n</span><span class="codeblock-line" data-line-number="29">      );\n</span><span class="codeblock-line" data-line-number="30">      <span style="color: var(--base0A)">let</span> { <span style="color: var(--base08)">attributes</span> } <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">parseFrontMatter</span>(\n</span><span class="codeblock-line" data-line-number="31">        <span style="color: var(--base08)">file</span>.<span style="color: var(--base0D)">toString</span>()\n</span><span class="codeblock-line" data-line-number="32">      );\n</span><span class="codeblock-line" data-highlight="true" data-line-number="33">      <span style="color: var(--base0D)">invariant</span>(\n</span><span class="codeblock-line" data-highlight="true" data-line-number="34">        <span style="color: var(--base0D)">isValidPostAttributes</span>(<span style="color: var(--base08)">attributes</span>),\n</span><span class="codeblock-line" data-highlight="true" data-line-number="35">        `${<span style="color: var(--base08)">filename</span>}<span style="color: var(--base0B)"> has bad meta data!</span>`\n</span><span class="codeblock-line" data-highlight="true" data-line-number="36">      );\n</span><span class="codeblock-line" data-line-number="37">      <span style="color: var(--base0E)">return</span> {\n</span><span class="codeblock-line" data-line-number="38">        slug: <span style="color: var(--base08)">filename</span>.<span style="color: var(--base0D)">replace</span>(/<span style="color: var(--base0C)">\\.md</span><span style="color: var(--base0E)">$</span>/, ""),\n</span><span class="codeblock-line" data-line-number="39">        title: <span style="color: var(--base08)">attributes</span>.<span style="color: var(--base08)">title</span>\n</span><span class="codeblock-line" data-line-number="40">      };\n</span><span class="codeblock-line" data-line-number="41">    })\n</span><span class="codeblock-line" data-line-number="42">  );\n</span><span class="codeblock-line" data-line-number="43">}\n</span></code></pre></div><p>Even if you aren\'t using TypeScript you\'re going to want that <code>invariant</code> check so you know what\'s wrong, too.</p><p>Okay! Back in the UI we should see our list of posts. Feel free to add some more posts, refresh, and watch the list grow.</p><h2 id="dynamic-route-params"><a href="blog.html#dynamic-route-params" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Dynamic Route Params</h2><p>Now let\'s make a route to actually view the post. We want these URLs to work:</p><pre><code>/posts/my-first-post\n/posts/90s-mix-cdr\n</code></pre><p>Instead of creating a route for every single one of our posts, we can use a "dynamic segment" in the url. Remix will parse and pass to us so we can look up the post dynamically.</p><p>\uD83D\uDCBF Create a dynamic route at "app/routes/posts/$slug.tsx"</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">touch app/routes/posts/<span style="color: var(--base0C)">\\$</span>slug.tsx\n</span></code></pre></div><div><pre data-filename="app/routes/posts/$slug.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">PostSlug</span>() {\n</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="3">    &#x3C;<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="4">      &#x3C;<span style="color: var(--base08)">h1</span>>Some Post&#x3C;/<span style="color: var(--base08)">h1</span>>\n</span><span class="codeblock-line" data-line-number="5">    &#x3C;/<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="6">  );\n</span><span class="codeblock-line" data-line-number="7">}\n</span></code></pre></div><p>You can click one of your posts and should see the new page.</p><p>\uD83D\uDCBF Add a loader to access the params</p><div><pre data-filename="app/routes/posts/$slug.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="3"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">params</span> }) <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">params</span>.<span style="color: var(--base08)">slug</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="5">};\n</span><span class="codeblock-line" data-line-number="6">\n</span><span class="codeblock-line" data-line-number="7"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">PostSlug</span>() {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="8">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>();\n</span><span class="codeblock-line" data-line-number="9">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="10">    &#x3C;<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="11">      &#x3C;<span style="color: var(--base08)">h1</span>>Some Post: <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base08)">h1</span>>\n</span><span class="codeblock-line" data-line-number="12">    &#x3C;/<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="13">  );\n</span><span class="codeblock-line" data-line-number="14">}\n</span></code></pre></div><p>The part of the filename attached to the <code>$</code> becomes a named key on the <code>params</code> object that comes into your loader. This is how we\'ll look up our blog post.</p><p>\uD83D\uDCBF Let\'s get some help from TypeScript for the loader function signature.</p><div><pre data-filename="app/routes/posts/$slug.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">LoaderFunction</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="3">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">LoaderFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">params</span> }) <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">params</span>.<span style="color: var(--base08)">slug</span>;\n</span><span class="codeblock-line" data-line-number="6">};\n</span></code></pre></div><p>Now let\'s actually read the post from the file system.</p><p>\uD83D\uDCBF Add a <code>getPost</code> function to our post module</p><p>Put this function anywhere in the <code>app/post.ts</code> module:</p><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">getPost</span>(<span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>) {\n</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">filepath</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">+</span> "<span style="color: var(--base0B)">.md</span>");\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">file</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readFile</span>(<span style="color: var(--base08)">filepath</span>);\n</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0A)">let</span> { <span style="color: var(--base08)">attributes</span> } <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">parseFrontMatter</span>(<span style="color: var(--base08)">file</span>.<span style="color: var(--base0D)">toString</span>());\n</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0D)">invariant</span>(\n</span><span class="codeblock-line" data-line-number="7">    <span style="color: var(--base0D)">isValidPostAttributes</span>(<span style="color: var(--base08)">attributes</span>),\n</span><span class="codeblock-line" data-line-number="8">    `<span style="color: var(--base0B)">Post </span>${<span style="color: var(--base08)">filepath</span>}<span style="color: var(--base0B)"> is missing attributes</span>`\n</span><span class="codeblock-line" data-line-number="9">  );\n</span><span class="codeblock-line" data-line-number="10">  <span style="color: var(--base0E)">return</span> { <span style="color: var(--base08)">slug</span>, title: <span style="color: var(--base08)">attributes</span>.<span style="color: var(--base08)">title</span> };\n</span><span class="codeblock-line" data-line-number="11">}\n</span></code></pre></div><p>\uD83D\uDCBF Use the new <code>getPost</code> function in the route</p><div><pre data-filename="app/routes/posts/$slug.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">LoaderFunction</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-highlight="true" data-line-number="3"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">getPost</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">invariant</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">tiny-invariant</span>";\n</span><span class="codeblock-line" data-line-number="5">\n</span><span class="codeblock-line" data-line-number="6"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">LoaderFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">params</span> }) <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="7">  <span style="color: var(--base0D)">invariant</span>(<span style="color: var(--base08)">params</span>.<span style="color: var(--base08)">slug</span>, "<span style="color: var(--base0B)">expected params.slug</span>");\n</span><span class="codeblock-line" data-highlight="true" data-line-number="8">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">getPost</span>(<span style="color: var(--base08)">params</span>.<span style="color: var(--base08)">slug</span>);\n</span><span class="codeblock-line" data-line-number="9">};\n</span><span class="codeblock-line" data-line-number="10">\n</span><span class="codeblock-line" data-line-number="11"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">PostSlug</span>() {\n</span><span class="codeblock-line" data-line-number="12">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">post</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>();\n</span><span class="codeblock-line" data-line-number="13">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="14">    &#x3C;<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="15">      &#x3C;<span style="color: var(--base08)">h1</span>><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base08)">h1</span>>\n</span><span class="codeblock-line" data-line-number="16">    &#x3C;/<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="17">  );\n</span><span class="codeblock-line" data-line-number="18">}\n</span></code></pre></div><p>Check that out! We\'re now pulling our posts from a data source instead of including it all in the browser as JavaScript.</p><p>Quick note on that <code>invariant</code>. Because <code>params</code> comes from the URL, we can\'t be totally sure that <code>params.slug</code> will be defined--maybe you change the name of the file to <code>$postId.ts</code>! It\'s good practice to validate that stuff with <code>invariant</code>, and it makes TypeScript happy too.</p><p>Let\'s use the same markdown parser for our blog here that we actually use on this very website. It\'s not documented (yet? maybe one day?) but you can use whatever markdown parser you want instead.</p><p>\uD83D\uDCBF Parse the markdown into HTML</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">npm add @ryanflorence/md\n</span></code></pre></div><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">getPost</span>(<span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>) {\n</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">filepath</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">+</span> "<span style="color: var(--base0B)">.md</span>");\n</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">file</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">readFile</span>(<span style="color: var(--base08)">filepath</span>);\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base0A)">let</span> { <span style="color: var(--base08)">attributes</span>, <span style="color: var(--base08)">body</span> } <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">parseFrontMatter</span>(\n</span><span class="codeblock-line" data-line-number="5">    <span style="color: var(--base08)">file</span>.<span style="color: var(--base0D)">toString</span>()\n</span><span class="codeblock-line" data-line-number="6">  );\n</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base0D)">invariant</span>(\n</span><span class="codeblock-line" data-line-number="8">    <span style="color: var(--base0D)">isValidPostAttributes</span>(<span style="color: var(--base08)">attributes</span>),\n</span><span class="codeblock-line" data-line-number="9">    `<span style="color: var(--base0B)">Post </span>${<span style="color: var(--base08)">filepath</span>}<span style="color: var(--base0B)"> is missing attributes</span>`\n</span><span class="codeblock-line" data-line-number="10">  );\n</span><span class="codeblock-line" data-highlight="true" data-line-number="11">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">html</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base0D)">processMarkdown</span>(<span style="color: var(--base08)">body</span>);\n</span><span class="codeblock-line" data-highlight="true" data-line-number="12">  <span style="color: var(--base0E)">return</span> { <span style="color: var(--base08)">slug</span>, <span style="color: var(--base08)">html</span>, title: <span style="color: var(--base08)">attributes</span>.<span style="color: var(--base08)">title</span> };\n</span><span class="codeblock-line" data-line-number="13">}\n</span></code></pre></div><p>\uD83D\uDCBF Render the HTML in the route</p><div><pre data-filename="app/routes/posts/$slug.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">PostSlug</span>() {\n</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">post</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>();\n</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-highlight="true" data-line-number="5">    &#x3C;<span style="color: var(--base08)">div</span> <span style="color: var(--base0D)">dangerouslySetInnerHTML</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span>{ __html: <span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">html</span> }<span style="color: var(--base0F)">}</span> />\n</span><span class="codeblock-line" data-line-number="6">  );\n</span><span class="codeblock-line" data-line-number="7">}\n</span></code></pre></div><p>Holy smokes, you did it. You have a blog.</p><h2 id="creating-blog-posts"><a href="blog.html#creating-blog-posts" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Creating Blog Posts</h2><p>Right now our blog posts (and typo fixes) are tied to deploys. Thats gross. The idea here is that your posts would be backed by a database, so we need a way to create a new blog post. We\'re going to be using actions for that.</p><p>Let\'s make a new "admin" section of the app.</p><p>\uD83D\uDCBF Create an admin route</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">touch app/routes/admin.tsx\n</span></code></pre></div><div><pre data-filename="app/routes/admin.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">getPosts</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">Post</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";\n</span><span class="codeblock-line" data-line-number="4">\n</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">loader</span> <span style="color: var(--base0E)">=</span> () <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">getPosts</span>();\n</span><span class="codeblock-line" data-line-number="7">};\n</span><span class="codeblock-line" data-line-number="8">\n</span><span class="codeblock-line" data-line-number="9"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Admin</span>() {\n</span><span class="codeblock-line" data-line-number="10">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>&#x3C;<span style="color: var(--base0A)">Post</span>[]>();\n</span><span class="codeblock-line" data-line-number="11">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="12">    &#x3C;<span style="color: var(--base08)">div</span> <span style="color: var(--base0D)">className</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">admin</span>">\n</span><span class="codeblock-line" data-line-number="13">      &#x3C;<span style="color: var(--base08)">nav</span>>\n</span><span class="codeblock-line" data-line-number="14">        &#x3C;<span style="color: var(--base08)">h1</span>>Admin&#x3C;/<span style="color: var(--base08)">h1</span>>\n</span><span class="codeblock-line" data-line-number="15">        &#x3C;<span style="color: var(--base08)">ul</span>>\n</span><span class="codeblock-line" data-line-number="16">          <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">posts</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base08)">post</span> <span style="color: var(--base0D)">=></span> (\n</span><span class="codeblock-line" data-line-number="17">            &#x3C;<span style="color: var(--base08)">li</span> <span style="color: var(--base0D)">key</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>>\n</span><span class="codeblock-line" data-line-number="18">              &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base0A)">Link</span>>\n</span><span class="codeblock-line" data-line-number="19">            &#x3C;/<span style="color: var(--base08)">li</span>>\n</span><span class="codeblock-line" data-line-number="20">          ))<span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-line-number="21">        &#x3C;/<span style="color: var(--base08)">ul</span>>\n</span><span class="codeblock-line" data-line-number="22">      &#x3C;/<span style="color: var(--base08)">nav</span>>\n</span><span class="codeblock-line" data-line-number="23">      &#x3C;<span style="color: var(--base08)">main</span>>...&#x3C;/<span style="color: var(--base08)">main</span>>\n</span><span class="codeblock-line" data-line-number="24">    &#x3C;/<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="25">  );\n</span><span class="codeblock-line" data-line-number="26">}\n</span></code></pre></div><p>You should recognize a lot of that code from the posts route. We set up some extra HTML structure cause we\'re going to style this real quick.</p><p>\uD83D\uDCBF Create an admin stylesheet</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">touch app/styles/admin.css\n</span></code></pre></div><div><pre data-filename="app/styles/admin.css" data-line-numbers="true" data-lang="css" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">.<span style="color: var(--base0A)">admin</span> {\n</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base0C)">display</span>: <span style="color: var(--base09)">flex</span>;\n</span><span class="codeblock-line" data-line-number="3">}\n</span><span class="codeblock-line" data-line-number="4">\n</span><span class="codeblock-line" data-line-number="5">.<span style="color: var(--base0A)">admin</span> <span style="color: var(--base0E)">></span> <span style="color: var(--base08)">nav</span> {\n</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0C)">padding-right</span>: <span style="color: var(--base09)">2rem</span>;\n</span><span class="codeblock-line" data-line-number="7">}\n</span><span class="codeblock-line" data-line-number="8">\n</span><span class="codeblock-line" data-line-number="9">.<span style="color: var(--base0A)">admin</span> <span style="color: var(--base0E)">></span> <span style="color: var(--base08)">main</span> {\n</span><span class="codeblock-line" data-line-number="10">  <span style="color: var(--base0C)">flex</span>: <span style="color: var(--base09)">1</span>;\n</span><span class="codeblock-line" data-line-number="11">  <span style="color: var(--base0C)">border-left</span>: <span style="color: var(--base09)">solid</span> <span style="color: var(--base09)">1px</span> #ccc;\n</span><span class="codeblock-line" data-line-number="12">  <span style="color: var(--base0C)">padding-left</span>: <span style="color: var(--base09)">2rem</span>;\n</span><span class="codeblock-line" data-line-number="13">}\n</span><span class="codeblock-line" data-line-number="14">\n</span><span class="codeblock-line" data-line-number="15"><span style="color: var(--base08)">em</span> {\n</span><span class="codeblock-line" data-line-number="16">  <span style="color: var(--base0C)">color</span>: <span style="color: var(--base09)">red</span>;\n</span><span class="codeblock-line" data-line-number="17">}\n</span></code></pre></div><p>\uD83D\uDCBF Link to the stylesheet in the admin route</p><div><pre data-filename="app/routes/admin.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">getPosts</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">Post</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">adminStyles</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/styles/admin.css</span>";\n</span><span class="codeblock-line" data-line-number="5">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="6"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">links</span> <span style="color: var(--base0E)">=</span> () <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="7">  <span style="color: var(--base0E)">return</span> [{ rel: "<span style="color: var(--base0B)">stylesheet</span>", href: <span style="color: var(--base08)">adminStyles</span> }];\n</span><span class="codeblock-line" data-highlight="true" data-line-number="8">};\n</span><span class="codeblock-line" data-line-number="9">\n</span><span class="codeblock-line" data-line-number="10"><span style="color: var(--base03)">// ...</span>\n</span></code></pre></div><p>Each route can export a <code>links</code> function that returns array of <code>&#x3C;link></code> tags, except in object form instead of HTML. So we use <code>{ rel: "stylesheet", href: adminStyles}</code> instead of <code>&#x3C;link rel="stylesheet" href="..." /></code>. This allows Remix to merge all of your rendered routes links together and render them in the <code>&#x3C;Links/></code> element at the top of your document. You can see it in <code>root.tsx</code> if you\'re curious.</p><p>Alright, you should have a a decent looking page with the posts on the left and a placeholder on the right.</p><h2 id="index-routes"><a href="blog.html#index-routes" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Index Routes</h2><p>Let\'s fill in that placeholder with an index route for admin. Hang with us, we\'re introducing "nested routes" here where your route file nesting becomes UI component nesting.</p><p>\uD83D\uDCBF Create a folder for <code>admin.tsx</code>\'s child routes, with an index inside</p><div><pre data-line-numbers="true" data-lang="sh" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">mkdir app/routes/admin\n</span><span class="codeblock-line" data-line-number="2">touch app/routes/admin/index.tsx\n</span></code></pre></div><div><pre data-filename="app/routes/admin/index.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Link</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2">\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">AdminIndex</span>() {\n</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="5">    &#x3C;<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="6">      &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">new</span>">Create a New Post&#x3C;/<span style="color: var(--base0A)">Link</span>>\n</span><span class="codeblock-line" data-line-number="7">    &#x3C;/<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="8">  );\n</span><span class="codeblock-line" data-line-number="9">}\n</span></code></pre></div><p>If you refresh you\'re not going to see it yet. Every route inside of <code>app/routes/admin/</code> can now render <em>inside</em> of <code>app/routes/admin.tsx</code> when their URL matches. You get to control which part of the <code>admin.tsx</code> layout the child routes render.</p><p>\uD83D\uDCBF Add an outlet to the admin page</p><div><pre data-filename="app/routes/admin.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Outlet</span>, <span style="color: var(--base08)">Link</span>, <span style="color: var(--base08)">useLoaderData</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2">\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base03)">//...</span>\n</span><span class="codeblock-line" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">Admin</span>() {\n</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">posts</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useLoaderData</span>&#x3C;<span style="color: var(--base0A)">Post</span>[]>();\n</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="7">    &#x3C;<span style="color: var(--base08)">div</span> <span style="color: var(--base0D)">className</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">admin</span>">\n</span><span class="codeblock-line" data-line-number="8">      &#x3C;<span style="color: var(--base08)">nav</span>>\n</span><span class="codeblock-line" data-line-number="9">        &#x3C;<span style="color: var(--base08)">h1</span>>Admin&#x3C;/<span style="color: var(--base08)">h1</span>>\n</span><span class="codeblock-line" data-line-number="10">        &#x3C;<span style="color: var(--base08)">ul</span>>\n</span><span class="codeblock-line" data-line-number="11">          <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">posts</span>.<span style="color: var(--base0D)">map</span>(<span style="color: var(--base08)">post</span> <span style="color: var(--base0D)">=></span> (\n</span><span class="codeblock-line" data-line-number="12">            &#x3C;<span style="color: var(--base08)">li</span> <span style="color: var(--base0D)">key</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>>\n</span><span class="codeblock-line" data-line-number="13">              &#x3C;<span style="color: var(--base0A)">Link</span> <span style="color: var(--base0D)">to</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span><span style="color: var(--base0F)">}</span>><span style="color: var(--base0F)">{</span><span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span><span style="color: var(--base0F)">}</span>&#x3C;/<span style="color: var(--base0A)">Link</span>>\n</span><span class="codeblock-line" data-line-number="14">            &#x3C;/<span style="color: var(--base08)">li</span>>\n</span><span class="codeblock-line" data-line-number="15">          ))<span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-line-number="16">        &#x3C;/<span style="color: var(--base08)">ul</span>>\n</span><span class="codeblock-line" data-line-number="17">      &#x3C;/<span style="color: var(--base08)">nav</span>>\n</span><span class="codeblock-line" data-line-number="18">      &#x3C;<span style="color: var(--base08)">main</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="19">        &#x3C;<span style="color: var(--base0A)">Outlet</span> />\n</span><span class="codeblock-line" data-line-number="20">      &#x3C;/<span style="color: var(--base08)">main</span>>\n</span><span class="codeblock-line" data-line-number="21">    &#x3C;/<span style="color: var(--base08)">div</span>>\n</span><span class="codeblock-line" data-line-number="22">  );\n</span><span class="codeblock-line" data-line-number="23">}\n</span></code></pre></div><p>Hang with us for a minute, index routes can be confusing at first. Just know that when the URL matches the parent route\'s path, the index will render inside the outlet.</p><p>Maybe this will help, let\'s add the "/admin/new" route and see what happens when we click the link.</p><p>\uD83D\uDCBF Create the <code>app/routes/admin/new.tsx</code> route</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">NewPost</span>() {\n</span><span class="codeblock-line" data-line-number="2">  <span style="color: var(--base0E)">return</span> &#x3C;<span style="color: var(--base08)">h2</span>>New Post&#x3C;/<span style="color: var(--base08)">h2</span>>;\n</span><span class="codeblock-line" data-line-number="3">}\n</span></code></pre></div><p>Now click the link from the index route and watch the <code>&#x3C;Outlet/></code> automatically swap out the index route for the "new" route!</p><h2 id="actions"><a href="blog.html#actions" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Actions</h2><p>We\'re gonna get serious now. Let\'s build a form to create a new post in the our new "new" route.</p><p>\uD83D\uDCBF Add a form to the new route</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Form</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2">\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">NewPost</span>() {\n</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-highlight="true" data-line-number="5">    &#x3C;<span style="color: var(--base0A)">Form</span> <span style="color: var(--base0D)">method</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">post</span>">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="6">      &#x3C;<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="7">        &#x3C;<span style="color: var(--base08)">label</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="8">          Post Title: &#x3C;<span style="color: var(--base08)">input</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">text</span>" <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">title</span>" />\n</span><span class="codeblock-line" data-highlight="true" data-line-number="9">        &#x3C;/<span style="color: var(--base08)">label</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="10">      &#x3C;/<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="11">      &#x3C;<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="12">        &#x3C;<span style="color: var(--base08)">label</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="13">          Post Slug: &#x3C;<span style="color: var(--base08)">input</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">text</span>" <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">slug</span>" />\n</span><span class="codeblock-line" data-highlight="true" data-line-number="14">        &#x3C;/<span style="color: var(--base08)">label</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="15">      &#x3C;/<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="16">      &#x3C;<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="17">        &#x3C;<span style="color: var(--base08)">label</span> <span style="color: var(--base0D)">htmlFor</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">markdown</span>">Markdown&#x3C;/<span style="color: var(--base08)">label</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="18">        &#x3C;<span style="color: var(--base08)">br</span> />\n</span><span class="codeblock-line" data-highlight="true" data-line-number="19">        &#x3C;<span style="color: var(--base08)">textarea</span> <span style="color: var(--base0D)">rows</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base09)">20</span><span style="color: var(--base0F)">}</span> <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">markdown</span>" />\n</span><span class="codeblock-line" data-highlight="true" data-line-number="20">      &#x3C;/<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="21">      &#x3C;<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="22">        &#x3C;<span style="color: var(--base08)">button</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">submit</span>">Create Post&#x3C;/<span style="color: var(--base08)">button</span>>\n</span><span class="codeblock-line" data-line-number="23">      &#x3C;/<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="24">    &#x3C;/<span style="color: var(--base0A)">Form</span>>\n</span><span class="codeblock-line" data-line-number="25">  );\n</span><span class="codeblock-line" data-line-number="26">}\n</span></code></pre></div><p>If you love HTML like us, you should be getting pretty excited. If you\'ve been doing a lot of <code>&#x3C;form onSubmit></code> and <code>&#x3C;button onClick></code> you\'re about to have your mind blown by HTML.</p><p>All you really need for a feature like this is a form to get data from the user and a backend action to handle it. And in Remix, that\'s all you have to.</p><p>Let\'s create the essential code that knows how to save a post first in our <code>post.ts</code> module.</p><p>\uD83D\uDCBF Add <code>createPost</code> anywhere inside of <code>app/post.ts</code></p><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">createPost</span>(<span style="color: var(--base08)">post</span>) {\n</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">md</span> <span style="color: var(--base0E)">=</span> `<span style="color: var(--base0B)">---</span><span style="color: var(--base0C)">\\n</span><span style="color: var(--base0B)">title: </span>${<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span>}<span style="color: var(--base0C)">\\n</span><span style="color: var(--base0B)">---</span><span style="color: var(--base0C)">\\n\\n</span>${<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">markdown</span>}`;\n</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">writeFile</span>(\n</span><span class="codeblock-line" data-line-number="5">    <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">+</span> "<span style="color: var(--base0B)">.md</span>"),\n</span><span class="codeblock-line" data-line-number="6">    <span style="color: var(--base08)">md</span>\n</span><span class="codeblock-line" data-line-number="7">  );\n</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">getPost</span>(<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span>);\n</span><span class="codeblock-line" data-line-number="9">}\n</span></code></pre></div><p>\uD83D\uDCBF Call <code>createPost</code> from the new post route\'s action</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">redirect</span>, <span style="color: var(--base08)">Form</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">createPost</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";\n</span><span class="codeblock-line" data-line-number="3">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">action</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">request</span> }) <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="5">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">formData</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">request</span>.<span style="color: var(--base0D)">formData</span>();\n</span><span class="codeblock-line" data-highlight="true" data-line-number="6">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="7">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">title</span>");\n</span><span class="codeblock-line" data-highlight="true" data-line-number="8">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">slug</span>");\n</span><span class="codeblock-line" data-highlight="true" data-line-number="9">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">markdown</span>");\n</span><span class="codeblock-line" data-line-number="10">\n</span><span class="codeblock-line" data-line-number="11">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base0D)">createPost</span>({ <span style="color: var(--base08)">title</span>, <span style="color: var(--base08)">slug</span>, <span style="color: var(--base08)">markdown</span> });\n</span><span class="codeblock-line" data-line-number="12">\n</span><span class="codeblock-line" data-line-number="13">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">redirect</span>("<span style="color: var(--base0B)">/admin</span>");\n</span><span class="codeblock-line" data-line-number="14">};\n</span><span class="codeblock-line" data-line-number="15">\n</span><span class="codeblock-line" data-line-number="16"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">NewPost</span>() {\n</span><span class="codeblock-line" data-line-number="17">  <span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-line-number="18">}\n</span></code></pre></div><p>That\'s it. Remix (and the browser) will take of the rest. Click the submit button and watch the sidebar that lists our posts update automatically.</p><p>In HTML an input\'s <code>name</code> attribute is sent over the network and available by the same name on the request\'s <code>formData</code>.</p><p>TypeScript is mad again, let\'s add some types.</p><p>\uD83D\uDCBF Add the types to both files we changed</p><div><pre data-filename="app/post.ts" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0A)">type</span> <span style="color: var(--base0A)">NewPost</span> <span style="color: var(--base0E)">=</span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="3">  <span style="color: var(--base08)">title</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="4">  <span style="color: var(--base08)">slug</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="5">  <span style="color: var(--base08)">markdown</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0C)">string</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="6">};\n</span><span class="codeblock-line" data-line-number="7">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="8"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">async</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">createPost</span>(<span style="color: var(--base08)">post</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">NewPost</span>) {\n</span><span class="codeblock-line" data-line-number="9">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">md</span> <span style="color: var(--base0E)">=</span> `<span style="color: var(--base0B)">---</span><span style="color: var(--base0C)">\\n</span><span style="color: var(--base0B)">title: </span>${<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">title</span>}<span style="color: var(--base0C)">\\n</span><span style="color: var(--base0B)">---</span><span style="color: var(--base0C)">\\n\\n</span>${<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">markdown</span>}`;\n</span><span class="codeblock-line" data-line-number="10">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">fs</span>.<span style="color: var(--base0D)">writeFile</span>(\n</span><span class="codeblock-line" data-line-number="11">    <span style="color: var(--base08)">path</span>.<span style="color: var(--base0D)">join</span>(<span style="color: var(--base08)">postsPath</span>, <span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">+</span> "<span style="color: var(--base0B)">.md</span>"),\n</span><span class="codeblock-line" data-line-number="12">    <span style="color: var(--base08)">md</span>\n</span><span class="codeblock-line" data-line-number="13">  );\n</span><span class="codeblock-line" data-line-number="14">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">getPost</span>(<span style="color: var(--base08)">post</span>.<span style="color: var(--base08)">slug</span>);\n</span><span class="codeblock-line" data-line-number="15">}\n</span><span class="codeblock-line" data-line-number="16">\n</span><span class="codeblock-line" data-line-number="17"><span style="color: var(--base03)">//...</span>\n</span></code></pre></div><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">Form</span>, <span style="color: var(--base08)">redirect</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-highlight="true" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base0E)">type</span> { <span style="color: var(--base08)">ActionFunction</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">createPost</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">~/post</span>";\n</span><span class="codeblock-line" data-line-number="4">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="5"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">action</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">ActionFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">request</span> }) <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">formData</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">request</span>.<span style="color: var(--base0D)">formData</span>();\n</span><span class="codeblock-line" data-line-number="7">\n</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">title</span>");\n</span><span class="codeblock-line" data-line-number="9">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">slug</span>");\n</span><span class="codeblock-line" data-line-number="10">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">markdown</span>");\n</span><span class="codeblock-line" data-line-number="11">\n</span><span class="codeblock-line" data-line-number="12">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base0D)">createPost</span>({ <span style="color: var(--base08)">title</span>, <span style="color: var(--base08)">slug</span>, <span style="color: var(--base08)">markdown</span> });\n</span><span class="codeblock-line" data-line-number="13">\n</span><span class="codeblock-line" data-line-number="14">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">redirect</span>("<span style="color: var(--base0B)">/admin</span>");\n</span><span class="codeblock-line" data-line-number="15">};\n</span></code></pre></div><p>Whether you\'re using TypeScript or not, we\'ve got a problem when the user doesn\'t provide values on some of these fields (and TS is still mad about that call to <code>createPost</code>).</p><p>Let\'s add some validation before we create the post.</p><p>\uD83D\uDCBF Validate if the form data contains what we need, and return the errors if not</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">//...</span>\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">invariant</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">tiny-invariant</span>";\n</span><span class="codeblock-line" data-line-number="3">\n</span><span class="codeblock-line" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">action</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">ActionFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">request</span> }) <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">formData</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">request</span>.<span style="color: var(--base0D)">formData</span>();\n</span><span class="codeblock-line" data-line-number="6">\n</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">title</span>");\n</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">slug</span>");\n</span><span class="codeblock-line" data-line-number="9">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">markdown</span>");\n</span><span class="codeblock-line" data-line-number="10">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="11">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">errors</span> <span style="color: var(--base0E)">=</span> {};\n</span><span class="codeblock-line" data-highlight="true" data-line-number="12">  <span style="color: var(--base0E)">if</span> (<span style="color: var(--base0E)">!</span><span style="color: var(--base08)">title</span>) <span style="color: var(--base08)">errors</span>.<span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base09)">true</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="13">  <span style="color: var(--base0E)">if</span> (<span style="color: var(--base0E)">!</span><span style="color: var(--base08)">slug</span>) <span style="color: var(--base08)">errors</span>.<span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base09)">true</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="14">  <span style="color: var(--base0E)">if</span> (<span style="color: var(--base0E)">!</span><span style="color: var(--base08)">markdown</span>) <span style="color: var(--base08)">errors</span>.<span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base09)">true</span>;\n</span><span class="codeblock-line" data-line-number="15">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="16">  <span style="color: var(--base0E)">if</span> (<span style="color: var(--base0A)">Object</span>.<span style="color: var(--base0D)">keys</span>(<span style="color: var(--base08)">errors</span>).length) {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="17">    <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">errors</span>;\n</span><span class="codeblock-line" data-highlight="true" data-line-number="18">  }\n</span><span class="codeblock-line" data-line-number="19">\n</span><span class="codeblock-line" data-line-number="20">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base0D)">createPost</span>({ <span style="color: var(--base08)">title</span>, <span style="color: var(--base08)">slug</span>, <span style="color: var(--base08)">markdown</span> });\n</span><span class="codeblock-line" data-line-number="21">\n</span><span class="codeblock-line" data-line-number="22">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">redirect</span>("<span style="color: var(--base0B)">/admin</span>");\n</span><span class="codeblock-line" data-line-number="23">};\n</span></code></pre></div><p>Notice we don\'t return a redirect this time, we actually return the errors. These errors are available to the component via <code>useActionData</code>. It\'s just like <code>useLoaderData</code> but the data comes from the action after a form POST.</p><p>\uD83D\uDCBF Add validation messages to the UI</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-highlight="true" data-line-number="1"><span style="color: var(--base0E)">import</span> { <span style="color: var(--base08)">useActionData</span>, <span style="color: var(--base08)">Form</span>, <span style="color: var(--base08)">redirect</span> } <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="2">\n</span><span class="codeblock-line" data-line-number="3"><span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-line-number="4">\n</span><span class="codeblock-line" data-line-number="5"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">NewPost</span>() {\n</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">errors</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useActionData</span>();\n</span><span class="codeblock-line" data-line-number="7">\n</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="9">    &#x3C;<span style="color: var(--base0A)">Form</span> <span style="color: var(--base0D)">method</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">post</span>">\n</span><span class="codeblock-line" data-line-number="10">      &#x3C;<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="11">        &#x3C;<span style="color: var(--base08)">label</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="12">          Post Title:<span style="color: var(--base0F)">{</span>"<span style="color: var(--base0B)"> </span>"<span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="13">          <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">errors</span>?.<span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">&#x26;&#x26;</span> &#x3C;<span style="color: var(--base08)">em</span>>Title is required&#x3C;/<span style="color: var(--base08)">em</span>><span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-line-number="14">          &#x3C;<span style="color: var(--base08)">input</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">text</span>" <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">title</span>" />\n</span><span class="codeblock-line" data-line-number="15">        &#x3C;/<span style="color: var(--base08)">label</span>>\n</span><span class="codeblock-line" data-line-number="16">      &#x3C;/<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="17">      &#x3C;<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="18">        &#x3C;<span style="color: var(--base08)">label</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="19">          Post Slug:<span style="color: var(--base0F)">{</span>"<span style="color: var(--base0B)"> </span>"<span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="20">          <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">errors</span>?.<span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">&#x26;&#x26;</span> &#x3C;<span style="color: var(--base08)">em</span>>Slug is required&#x3C;/<span style="color: var(--base08)">em</span>><span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-line-number="21">          &#x3C;<span style="color: var(--base08)">input</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">text</span>" <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">slug</span>" />\n</span><span class="codeblock-line" data-line-number="22">        &#x3C;/<span style="color: var(--base08)">label</span>>\n</span><span class="codeblock-line" data-line-number="23">      &#x3C;/<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="24">      &#x3C;<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="25">        &#x3C;<span style="color: var(--base08)">label</span> <span style="color: var(--base0D)">htmlFor</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">markdown</span>">Markdown:&#x3C;/<span style="color: var(--base08)">label</span>><span style="color: var(--base0F)">{</span>"<span style="color: var(--base0B)"> </span>"<span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="26">        <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">errors</span>?.<span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">&#x26;&#x26;</span> &#x3C;<span style="color: var(--base08)">em</span>>Markdown is required&#x3C;/<span style="color: var(--base08)">em</span>><span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-line-number="27">        &#x3C;<span style="color: var(--base08)">br</span> />\n</span><span class="codeblock-line" data-line-number="28">        &#x3C;<span style="color: var(--base08)">textarea</span> <span style="color: var(--base0D)">rows</span><span style="color: var(--base0E)">=</span><span style="color: var(--base0F)">{</span><span style="color: var(--base09)">20</span><span style="color: var(--base0F)">}</span> <span style="color: var(--base0D)">name</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">markdown</span>" />\n</span><span class="codeblock-line" data-line-number="29">      &#x3C;/<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="30">      &#x3C;<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="31">        &#x3C;<span style="color: var(--base08)">button</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">submit</span>">Create Post&#x3C;/<span style="color: var(--base08)">button</span>>\n</span><span class="codeblock-line" data-line-number="32">      &#x3C;/<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="33">    &#x3C;/<span style="color: var(--base0A)">Form</span>>\n</span><span class="codeblock-line" data-line-number="34">  );\n</span><span class="codeblock-line" data-line-number="35">}\n</span></code></pre></div><p>TypeScript is still mad, so let\'s add some invariants to make it happy.</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">//...</span>\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">import</span> <span style="color: var(--base08)">invariant</span> <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">tiny-invariant</span>";\n</span><span class="codeblock-line" data-line-number="3">\n</span><span class="codeblock-line" data-line-number="4"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">action</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">ActionFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">request</span> }) <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-line-number="6">\n</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base0E)">if</span> (<span style="color: var(--base0A)">Object</span>.<span style="color: var(--base0D)">keys</span>(<span style="color: var(--base08)">errors</span>).length) {\n</span><span class="codeblock-line" data-line-number="8">    <span style="color: var(--base0E)">return</span> <span style="color: var(--base08)">errors</span>;\n</span><span class="codeblock-line" data-line-number="9">  }\n</span><span class="codeblock-line" data-line-number="10">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="11">  <span style="color: var(--base0D)">invariant</span>(<span style="color: var(--base0E)">typeof</span> <span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">===</span> "<span style="color: var(--base0B)">string</span>");\n</span><span class="codeblock-line" data-highlight="true" data-line-number="12">  <span style="color: var(--base0D)">invariant</span>(<span style="color: var(--base0E)">typeof</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">===</span> "<span style="color: var(--base0B)">string</span>");\n</span><span class="codeblock-line" data-highlight="true" data-line-number="13">  <span style="color: var(--base0D)">invariant</span>(<span style="color: var(--base0E)">typeof</span> <span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">===</span> "<span style="color: var(--base0B)">string</span>");\n</span><span class="codeblock-line" data-highlight="true" data-line-number="14">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base0D)">createPost</span>({ <span style="color: var(--base08)">title</span>, <span style="color: var(--base08)">slug</span>, <span style="color: var(--base08)">markdown</span> });\n</span><span class="codeblock-line" data-line-number="15">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="16">  <span style="color: var(--base0E)">return</span> <span style="color: var(--base0D)">redirect</span>("<span style="color: var(--base0B)">/admin</span>");\n</span><span class="codeblock-line" data-highlight="true" data-line-number="17">};\n</span></code></pre></div><p>For some real fun, disable JavaScript in your dev tools and try it out. Because Remix is built on the fundamentals of HTTP and HTML, this whole thing works without JavaScript in the browser. But that\'s not the point. Let\'s slow this down and add some "pending UI" to our form.</p><p>\uD83D\uDCBF Slow down our action with a fake delay</p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-line-number="2"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0A)">let</span> <span style="color: var(--base0D)">action</span><span style="color: var(--base0E)">:</span> <span style="color: var(--base0A)">ActionFunction</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">async</span> ({ <span style="color: var(--base08)">request</span> }) <span style="color: var(--base0D)">=></span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="3">  <span style="color: var(--base0E)">await</span> <span style="color: var(--base0E)">new</span> <span style="color: var(--base0A)">Promise</span>(<span style="color: var(--base08)">res</span> <span style="color: var(--base0D)">=></span> <span style="color: var(--base0D)">setTimeout</span>(<span style="color: var(--base08)">res</span>, <span style="color: var(--base09)">1000</span>));\n</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">formData</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0E)">await</span> <span style="color: var(--base08)">request</span>.<span style="color: var(--base0D)">formData</span>();\n</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">title</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">title</span>");\n</span><span class="codeblock-line" data-line-number="6">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">slug</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">slug</span>");\n</span><span class="codeblock-line" data-line-number="7">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">markdown</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base08)">formData</span>.<span style="color: var(--base0D)">get</span>("<span style="color: var(--base0B)">markdown</span>");\n</span><span class="codeblock-line" data-line-number="8">  <span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-line-number="9">};\n</span><span class="codeblock-line" data-line-number="10"><span style="color: var(--base03)">//...</span>\n</span></code></pre></div><p>\uD83D\uDCBF Add some pending UI with <code>useTransition</code></p><div><pre data-filename="app/routes/admin/new.tsx" data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1"><span style="color: var(--base0E)">import</span> {\n</span><span class="codeblock-line" data-highlight="true" data-line-number="2">  <span style="color: var(--base08)">useTransition</span>,\n</span><span class="codeblock-line" data-line-number="3">  <span style="color: var(--base08)">useActionData</span>,\n</span><span class="codeblock-line" data-line-number="4">  <span style="color: var(--base08)">Form</span>,\n</span><span class="codeblock-line" data-line-number="5">  <span style="color: var(--base08)">redirect</span>\n</span><span class="codeblock-line" data-line-number="6">} <span style="color: var(--base0E)">from</span> "<span style="color: var(--base0B)">remix</span>";\n</span><span class="codeblock-line" data-line-number="7">\n</span><span class="codeblock-line" data-line-number="8"><span style="color: var(--base03)">// ...</span>\n</span><span class="codeblock-line" data-line-number="9">\n</span><span class="codeblock-line" data-line-number="10"><span style="color: var(--base0E)">export</span> <span style="color: var(--base0E)">default</span> <span style="color: var(--base0D)">function</span> <span style="color: var(--base0D)">NewPost</span>() {\n</span><span class="codeblock-line" data-line-number="11">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">errors</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useActionData</span>();\n</span><span class="codeblock-line" data-highlight="true" data-line-number="12">  <span style="color: var(--base0A)">let</span> <span style="color: var(--base08)">transition</span> <span style="color: var(--base0E)">=</span> <span style="color: var(--base0D)">useTransition</span>();\n</span><span class="codeblock-line" data-line-number="13">\n</span><span class="codeblock-line" data-line-number="14">  <span style="color: var(--base0E)">return</span> (\n</span><span class="codeblock-line" data-line-number="15">    &#x3C;<span style="color: var(--base0A)">Form</span> <span style="color: var(--base0D)">method</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">post</span>">\n</span><span class="codeblock-line" data-line-number="16">      <span style="color: var(--base0F)">{</span><span style="color: var(--base03)">/* ... */</span><span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-line-number="17">\n</span><span class="codeblock-line" data-line-number="18">      &#x3C;<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="19">        &#x3C;<span style="color: var(--base08)">button</span> <span style="color: var(--base0D)">type</span><span style="color: var(--base0E)">=</span>"<span style="color: var(--base0B)">submit</span>">\n</span><span class="codeblock-line" data-highlight="true" data-line-number="20">          <span style="color: var(--base0F)">{</span><span style="color: var(--base08)">transition</span>.<span style="color: var(--base08)">submission</span>\n</span><span class="codeblock-line" data-highlight="true" data-line-number="21">            <span style="color: var(--base0E)">?</span> "<span style="color: var(--base0B)">Creating...</span>"\n</span><span class="codeblock-line" data-highlight="true" data-line-number="22">            <span style="color: var(--base0E)">:</span> "<span style="color: var(--base0B)">Create Post</span>"<span style="color: var(--base0F)">}</span>\n</span><span class="codeblock-line" data-line-number="23">        &#x3C;/<span style="color: var(--base08)">button</span>>\n</span><span class="codeblock-line" data-line-number="24">      &#x3C;/<span style="color: var(--base08)">p</span>>\n</span><span class="codeblock-line" data-line-number="25">    &#x3C;/<span style="color: var(--base0A)">Form</span>>\n</span><span class="codeblock-line" data-line-number="26">  );\n</span><span class="codeblock-line" data-line-number="27">}\n</span></code></pre></div><p>Now the user gets an enhanced experience than if we had just done this without JavaScript in the browser at all. Some other things that you could do to make it better is automatically slugify the title into the slug field or let the user override it (maybe we\'ll add that later).</p><p>That\'s it for today! You\'re homework is to make an <code>/admin/edit</code> page for your posts. The links are already there in the sidebar but they 404! Create a new route that reads the post, puts them into the fields. All the code you need is already in <code>app/routes/posts/$slug.ts</code> and <code>app/routes/posts/new.ts</code>. You just gotta put it together.</p><p>We hope you love Remix!</p></div></div>\n','lang':'en','hasContent':true,'createdAt':'2021-11-24T18:06:24.601Z','updatedAt':'2021-11-24T18:06:24.602Z','title':'Developer Blog','order':1,'disabled':false,'siblingLinks':false,'published':null,'description':null,'hidden':false,'toc':true,'githubRefId':'refs/tags/v1.0.4'}},'actionData':undefined};</script><script src="../../../../build/manifest-10D43C8B.js"></script><script type="module">import * as route0 from "/build/root-63J2OI5O.js";
import * as route1 from "/build/routes/docs/$lang.$version-WDGSSTHQ.js";
import * as route2 from "/build/routes/docs/$lang.$version/$-XTVJBAXD.js";
window.__remixRouteModules = {"root":route0,"routes/docs/$lang.$version":route1,"routes/docs/$lang.$version/$":route2};</script><script src="../../../../build/entry.client-42KZW6ZZ.js" type="module"></script></body></html>