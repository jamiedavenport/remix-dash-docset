<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/><link rel="icon" href="../../../../favicon-light.1.png" type="image/png" media="(prefers-color-scheme: light)"/><link rel="icon" href="../../../../favicon-dark.1.png" type="image/png" media="(prefers-color-scheme: dark)"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&amp;family=Source+Code+Pro:wght@400;600&amp;display=auto" rel="stylesheet"/><title>Remix | Routing</title><meta name="description" content="In Remix, routes are more than just the page. When routes are nested we&#x27;re able to know a little more about your app than just a single page, and do a lot more because of it."/><link rel="preload" as="font" href="../../../../font/founders-grotesk-bold.woff2" crossorigin="anonymous"/><link rel="stylesheet" href="../../../../build/_assets/tailwind-XN5LJQWA.css"/><link rel="stylesheet" href="../../../../build/_assets/bailwind-QVFUVIGW.css"/><link rel="stylesheet" href="../../../../build/_assets/docs-TIR56M2J.css"/></head><body x-comp="Body" class="min-h-screen flex flex-col w-full overflow-x-hidden bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-200 undefined"><div class="lg:flex lg:h-full px-6"><div class="lg:hidden"><div class="absolute top-6 right-6"><a href="../../v1.html"><svg x-comp="Wordmark" height="24" viewBox="0 0 659 165" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Remix Logo</title><path fill-rule="evenodd" clip-rule="evenodd" d="M133.85 124.16C135.3 142.762 135.3 151.482 135.3 161H92.2283C92.2283 158.927 92.2653 157.03 92.3028 155.107C92.4195 149.128 92.5411 142.894 91.5717 130.304C90.2905 111.872 82.3473 107.776 67.7419 107.776H54.8021H0V74.24H69.7918C88.2407 74.24 97.4651 68.632 97.4651 53.784C97.4651 40.728 88.2407 32.816 69.7918 32.816H0V0H77.4788C119.245 0 140 19.712 140 51.2C140 74.752 125.395 90.112 105.665 92.672C122.32 96 132.057 105.472 133.85 124.16Z" fill="currentColor"></path><path d="M0 161V136H45.5416C53.1486 136 54.8003 141.638 54.8003 145V161H0Z" fill="currentColor"></path><path d="M654.54 47.1035H611.788L592.332 74.2395L573.388 47.1035H527.564L568.78 103.168L523.98 161.28H566.732L589.516 130.304L612.3 161.28H658.124L613.068 101.376L654.54 47.1035Z" fill="url(#paint0_linear)"></path><path d="M654.54 47.1035H611.788L592.332 74.2395L573.388 47.1035H527.564L568.78 103.168L523.98 161.28H566.732L589.516 130.304L612.3 161.28H658.124L613.068 101.376L654.54 47.1035Z" fill="currentColor"></path><path d="M229.43 120.576C225.59 129.536 218.422 133.376 207.158 133.376C194.614 133.376 184.374 126.72 183.35 112.64H263.478V101.12C263.478 70.1437 243.254 44.0317 205.11 44.0317C169.526 44.0317 142.902 69.8877 142.902 105.984C142.902 142.336 169.014 164.352 205.622 164.352C235.83 164.352 256.822 149.76 262.71 123.648L229.43 120.576ZM183.862 92.6717C185.398 81.9197 191.286 73.7277 204.598 73.7277C216.886 73.7277 223.542 82.4317 224.054 92.6717H183.862Z" fill="url(#paint1_linear)"></path><path d="M229.43 120.576C225.59 129.536 218.422 133.376 207.158 133.376C194.614 133.376 184.374 126.72 183.35 112.64H263.478V101.12C263.478 70.1437 243.254 44.0317 205.11 44.0317C169.526 44.0317 142.902 69.8877 142.902 105.984C142.902 142.336 169.014 164.352 205.622 164.352C235.83 164.352 256.822 149.76 262.71 123.648L229.43 120.576ZM183.862 92.6717C185.398 81.9197 191.286 73.7277 204.598 73.7277C216.886 73.7277 223.542 82.4317 224.054 92.6717H183.862Z" fill="currentColor"></path><path d="M385.256 66.5597C380.392 53.2477 369.896 44.0317 349.672 44.0317C332.52 44.0317 320.232 51.7117 314.088 64.2557V47.1037H272.616V161.28H314.088V105.216C314.088 88.0638 318.952 76.7997 332.52 76.7997C345.064 76.7997 348.136 84.9917 348.136 100.608V161.28H389.608V105.216C389.608 88.0638 394.216 76.7997 408.04 76.7997C420.584 76.7997 423.4 84.9917 423.4 100.608V161.28H464.872V89.5997C464.872 65.7917 455.656 44.0317 424.168 44.0317C404.968 44.0317 391.4 53.7597 385.256 66.5597Z" fill="url(#paint2_linear)"></path><path d="M385.256 66.5597C380.392 53.2477 369.896 44.0317 349.672 44.0317C332.52 44.0317 320.232 51.7117 314.088 64.2557V47.1037H272.616V161.28H314.088V105.216C314.088 88.0638 318.952 76.7997 332.52 76.7997C345.064 76.7997 348.136 84.9917 348.136 100.608V161.28H389.608V105.216C389.608 88.0638 394.216 76.7997 408.04 76.7997C420.584 76.7997 423.4 84.9917 423.4 100.608V161.28H464.872V89.5997C464.872 65.7917 455.656 44.0317 424.168 44.0317C404.968 44.0317 391.4 53.7597 385.256 66.5597Z" fill="currentColor"></path><path d="M478.436 47.104V161.28H519.908V47.104H478.436ZM478.18 36.352H520.164V0H478.18V36.352Z" fill="url(#paint3_linear)"></path><path d="M478.436 47.104V161.28H519.908V47.104H478.436ZM478.18 36.352H520.164V0H478.18V36.352Z" fill="currentColor"></path><defs><linearGradient id="paint0_linear" x1="591.052" y1="47.1035" x2="591.052" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint1_linear" x1="203.19" y1="44.0317" x2="203.19" y2="164.352" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint2_linear" x1="368.744" y1="44.0317" x2="368.744" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint3_linear" x1="499.172" y1="0" x2="499.172" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient></defs></svg></a></div><details><summary class="pb-4 pt-6 cursor-pointer">Docs Navigation</summary><div><nav class="md-nav py-6 text-d-p-sm font-medium"><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="1"><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading pt-0">Tutorials</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../tutorials/blog.html">Developer Blog</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../tutorials/jokes.html">Jokes App</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">API</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../api/conventions.html">Conventions</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../api/remix.html">Remix Package</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">Other API</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/dev.html">@remix-run/dev (CLI)</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/adapter.html">@remix-run/{adapter}</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/node.html">@remix-run/node</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/serve.html">@remix-run/serve</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/constraints.html">Module Constraints</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/react-router.html">React Router v6</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/fetch.html">Web Fetch API</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">Guides</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="accessibility.html">Accessibility</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="api-routes.html">API Routes</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="data-writes.html">Data Writes</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="deployment.html">Deployment</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="disabling-javascript.html">Disabling JavaScript</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="envvars.html">Environment Variables</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="errors.html">Error Handling</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="mdx.html">MDX</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="not-found.html">Not Found Handling</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="optimistic-ui.html">Optimistic UI</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="performance.html">Performance</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="philosophy.html">Philosophy</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="resource-routes.html">Resource Routes</a></li><li data-dir="" data-level="2"><a aria-current="page" class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2 md-nav-item--active" href="routing.html">Routing</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="styling.html">Styling</a></li></ul></li><li data-dir="" data-level="1"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading" href="../contributing.html">Contributing</a></li></ul></nav></div></details><hr class="mb-4"/></div><div class="flex-shrink-0 hidden lg:block"><div class="h-full max-h-screen overflow-x-hidden overflow-y-auto w-64 xl:w-80 2xl:w-96 sticky top-0 py-10 pl-6 pr-3 xl:pr-5 2xl:pr-6"><a href="../../v1.html"><svg x-comp="Wordmark" height="24" viewBox="0 0 659 165" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Remix Logo</title><path fill-rule="evenodd" clip-rule="evenodd" d="M133.85 124.16C135.3 142.762 135.3 151.482 135.3 161H92.2283C92.2283 158.927 92.2653 157.03 92.3028 155.107C92.4195 149.128 92.5411 142.894 91.5717 130.304C90.2905 111.872 82.3473 107.776 67.7419 107.776H54.8021H0V74.24H69.7918C88.2407 74.24 97.4651 68.632 97.4651 53.784C97.4651 40.728 88.2407 32.816 69.7918 32.816H0V0H77.4788C119.245 0 140 19.712 140 51.2C140 74.752 125.395 90.112 105.665 92.672C122.32 96 132.057 105.472 133.85 124.16Z" fill="currentColor"></path><path d="M0 161V136H45.5416C53.1486 136 54.8003 141.638 54.8003 145V161H0Z" fill="currentColor"></path><path d="M654.54 47.1035H611.788L592.332 74.2395L573.388 47.1035H527.564L568.78 103.168L523.98 161.28H566.732L589.516 130.304L612.3 161.28H658.124L613.068 101.376L654.54 47.1035Z" fill="url(#paint0_linear)"></path><path d="M654.54 47.1035H611.788L592.332 74.2395L573.388 47.1035H527.564L568.78 103.168L523.98 161.28H566.732L589.516 130.304L612.3 161.28H658.124L613.068 101.376L654.54 47.1035Z" fill="currentColor"></path><path d="M229.43 120.576C225.59 129.536 218.422 133.376 207.158 133.376C194.614 133.376 184.374 126.72 183.35 112.64H263.478V101.12C263.478 70.1437 243.254 44.0317 205.11 44.0317C169.526 44.0317 142.902 69.8877 142.902 105.984C142.902 142.336 169.014 164.352 205.622 164.352C235.83 164.352 256.822 149.76 262.71 123.648L229.43 120.576ZM183.862 92.6717C185.398 81.9197 191.286 73.7277 204.598 73.7277C216.886 73.7277 223.542 82.4317 224.054 92.6717H183.862Z" fill="url(#paint1_linear)"></path><path d="M229.43 120.576C225.59 129.536 218.422 133.376 207.158 133.376C194.614 133.376 184.374 126.72 183.35 112.64H263.478V101.12C263.478 70.1437 243.254 44.0317 205.11 44.0317C169.526 44.0317 142.902 69.8877 142.902 105.984C142.902 142.336 169.014 164.352 205.622 164.352C235.83 164.352 256.822 149.76 262.71 123.648L229.43 120.576ZM183.862 92.6717C185.398 81.9197 191.286 73.7277 204.598 73.7277C216.886 73.7277 223.542 82.4317 224.054 92.6717H183.862Z" fill="currentColor"></path><path d="M385.256 66.5597C380.392 53.2477 369.896 44.0317 349.672 44.0317C332.52 44.0317 320.232 51.7117 314.088 64.2557V47.1037H272.616V161.28H314.088V105.216C314.088 88.0638 318.952 76.7997 332.52 76.7997C345.064 76.7997 348.136 84.9917 348.136 100.608V161.28H389.608V105.216C389.608 88.0638 394.216 76.7997 408.04 76.7997C420.584 76.7997 423.4 84.9917 423.4 100.608V161.28H464.872V89.5997C464.872 65.7917 455.656 44.0317 424.168 44.0317C404.968 44.0317 391.4 53.7597 385.256 66.5597Z" fill="url(#paint2_linear)"></path><path d="M385.256 66.5597C380.392 53.2477 369.896 44.0317 349.672 44.0317C332.52 44.0317 320.232 51.7117 314.088 64.2557V47.1037H272.616V161.28H314.088V105.216C314.088 88.0638 318.952 76.7997 332.52 76.7997C345.064 76.7997 348.136 84.9917 348.136 100.608V161.28H389.608V105.216C389.608 88.0638 394.216 76.7997 408.04 76.7997C420.584 76.7997 423.4 84.9917 423.4 100.608V161.28H464.872V89.5997C464.872 65.7917 455.656 44.0317 424.168 44.0317C404.968 44.0317 391.4 53.7597 385.256 66.5597Z" fill="currentColor"></path><path d="M478.436 47.104V161.28H519.908V47.104H478.436ZM478.18 36.352H520.164V0H478.18V36.352Z" fill="url(#paint3_linear)"></path><path d="M478.436 47.104V161.28H519.908V47.104H478.436ZM478.18 36.352H520.164V0H478.18V36.352Z" fill="currentColor"></path><defs><linearGradient id="paint0_linear" x1="591.052" y1="47.1035" x2="591.052" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint1_linear" x1="203.19" y1="44.0317" x2="203.19" y2="164.352" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint2_linear" x1="368.744" y1="44.0317" x2="368.744" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient><linearGradient id="paint3_linear" x1="499.172" y1="0" x2="499.172" y2="161.28" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor" stop-opacity="0"></stop></linearGradient></defs></svg></a><div class="h-8"></div><nav class="md-nav"><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="1"><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading pt-0">Tutorials</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../tutorials/blog.html">Developer Blog</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../tutorials/jokes.html">Jokes App</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">API</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../api/conventions.html">Conventions</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../api/remix.html">Remix Package</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">Other API</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/dev.html">@remix-run/dev (CLI)</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/adapter.html">@remix-run/{adapter}</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/node.html">@remix-run/node</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/serve.html">@remix-run/serve</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/constraints.html">Module Constraints</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/react-router.html">React Router v6</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="../other-api/fetch.html">Web Fetch API</a></li></ul></li><li data-dir="" data-level="1"><span class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading">Guides</span><ul class="md-nav-list text-[color:var(--hue-0750)] mb-3" data-level="2"><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="accessibility.html">Accessibility</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="api-routes.html">API Routes</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="data-writes.html">Data Writes</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="deployment.html">Deployment</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="disabling-javascript.html">Disabling JavaScript</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="envvars.html">Environment Variables</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="errors.html">Error Handling</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="mdx.html">MDX</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="not-found.html">Not Found Handling</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="optimistic-ui.html">Optimistic UI</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="performance.html">Performance</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="philosophy.html">Philosophy</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="resource-routes.html">Resource Routes</a></li><li data-dir="" data-level="2"><a aria-current="page" class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2 md-nav-item--active" href="routing.html">Routing</a></li><li data-dir="" data-level="2"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-2" href="styling.html">Styling</a></li></ul></li><li data-dir="" data-level="1"><a class="md-nav-item py-1 block text-m-p-sm lg:text-sm md-nav-item--level-1 md-nav-heading" href="../contributing.html">Contributing</a></li></ul></nav></div></div><div class="lg:z-[1] flex-grow lg:h-full"><div class="py-6 md:py-8 lg:py-10 lg:pr-6 lg:pl-3 xl:pl-5 2xl:pl-6"><div><div class="markdown has-toc"><div class="md-toc-container"><div class="md-toc-nav" role="navigation"><ul class="toc">
<li>
<p><a href="routing.html#routing">Routing</a></p>
<ul>
<li><a href="routing.html#what-are-nested-routes">What are nested routes?</a></li>
<li><a href="routing.html#defining-nested-routes">Defining nested routes</a></li>
<li><a href="routing.html#what-it-means">What it means</a></li>
<li><a href="routing.html#index-routes">Index Routes</a></li>
<li><a href="routing.html#todo-exampleapp-hideinvoice-step0-">TODO: <code>&#x3C;ExampleApp hideInvoice step={0} /></code></a></li>
<li><a href="routing.html#nested-urls-without-nesting-layouts">Nested URLs without nesting layouts</a></li>
<li><a href="routing.html#review">Review</a></li>
</ul>
</li>
</ul></div><div class="md-prose"><h1 id="routing"><a href="routing.html#routing" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Routing</h1><p>Let's talk about a concept in Remix that is critical to understand to get the most out of it: Nested Routes.</p><p>We consider nested routes our (not so) secret weapon. This feature of React Router allows Remix to know what you're going to render before you even render it. This lets us fetch data, stylesheets, and modules for the next page, or just the changed part of the page.</p><h2 id="what-are-nested-routes"><a href="routing.html#what-are-nested-routes" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>What are nested routes?</h2><p>Let's consider a UI to help us out. Imagine you're building invoicing software and the UI looks something like this:</p><p>TODO: ADD THE SVG WITHOUT ANIMATION</p><p>Just looking at the boxes it's pretty easy to indentify which pieces of the URL match which parts of the UI. As the user clicks between "Invoices | Projects | Customers", the top nav persists while the screen below changes. Down one level, as the user clicks between invoices the top nav and the invoice nav persist, while the invoice screen swaps out new data. And finally, as the user clicks between "Details | Activity", the details or activity screen will swap out for each other, but the rest of the UI remains unchanged.</p><p>It's a nested layout tree. In Remix, we call every one of these layouts a "route". You might be used to routes that have a 1:1 component-to-url mapping. In Remix, a single URL can match multiple, nested routes.</p><h2 id="defining-nested-routes"><a href="routing.html#defining-nested-routes" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Defining nested routes</h2><p>Nested folders create nested URLs. So if you put something in <code>app/routes/invoices/$id.js</code> that creates a URL like "/invoices/123". The URL maps identically to the file system. But there's more--nested routes in the file system create nested layouts in the UI. Let's check it out in our example app.</p><p>TODO: ADD THE ANIMATED EXAMPLE</p><p>The root layout of this UI is "App.js" and it matches up with the domain name in the URL. This isn't a route yet, this is just the layout, it renders all the time, wrapping the entire UI. It holds the top nav with the links to "Invoices | Projects | Customers".</p><p>The next segment of the URL, and our next layout, is a file in <code>app/routes/invoices.js</code>. This controls the invoices on the left and wraps the details/activity views. This is our first layout route that matched the URL.</p><p>The nesting gets deeper as we look at the <code>app/routes/invoices/$id.js</code> component. This is another layout route that renders the Invoice number and links to the "Details | Activity" pages.</p><p>And finally, our final route, <code>app/routes/invoices/$id/activity.js</code>. Sometime we call these routes that aren't layouts "leaf routes".</p><h2 id="what-it-means"><a href="routing.html#what-it-means" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>What it means</h2><p>Because we know all of your routes up front, and we can match them before we render anything--we now know the most important components that are about to render before we render. This gives us fine-grained control over style, data, and module loading that you just can't get without nested routes.</p><p>In fact, when the user clicks on "Details" and "Activity", the only data we fetch is the data for changed portion of the app, rather than for every parent layout above it. It also gives us powerful control over which stylesheets to load and unload, which is a whole new set of tradeoffs for css that we find to be excellent.</p><p>For years we've been trying to move all of this kind of thing to the components, but that gets difficult because you don't know what you're going to render until you render it! How can you preload data? How can you know which styles to apply, or which modules to start loading? Nested routes mapping to nested layouts gives us a cheat code. We mostly know what is about to be rendered, so we coupled your async requirements there. When the location changes, we can fetch the modules, styles, and data in parallel before the update (and before the server render, gotta get those data-driven meta tags!).</p><h2 id="index-routes"><a href="routing.html#index-routes" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Index Routes</h2><p>An Index Route is the route that renders when the layout's path is matched exactly. Again, from our example, our routes folder would look something like this:</p><pre><code>├── invoices
│   └── $id.js
└── invoices.js
</code></pre><p>So what renders at <code>https://example.com/invoices</code>? At the moment, nothing, it would look like this:</p><h2 id="todo-exampleapp-hideinvoice-step0-"><a href="routing.html#todo-exampleapp-hideinvoice-step0-" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>TODO: <code>&#x3C;ExampleApp hideInvoice step={0} /></code></h2><p>If we add the file <code>invoices/index.js</code>, then that new index route will render at the path <code>/invoices</code> inside of the <code>invoices.js</code> component.</p><pre><code>├── invoices
│   ├── $id.js
│   └── index.js
└── invoices.js
</code></pre><p>The component tree would be:</p><div><pre data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">&#x3C;<span style="color: var(--base0A)">App</span>>
</span><span class="codeblock-line" data-line-number="2">  &#x3C;<span style="color: var(--base0A)">Invoices</span>>
</span><span class="codeblock-line" data-line-number="3">    &#x3C;<span style="color: var(--base0A)">InvoicesIndex</span> />
</span><span class="codeblock-line" data-line-number="4">  &#x3C;/<span style="color: var(--base0A)">Invoices</span>>
</span><span class="codeblock-line" data-line-number="5">&#x3C;/<span style="color: var(--base0A)">App</span>>
</span></code></pre></div><h2 id="nested-urls-without-nesting-layouts"><a href="routing.html#nested-urls-without-nesting-layouts" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Nested URLs without nesting layouts</h2><p>If you want to add slashes to the URL, but not create a layout hierarchy, use <code>.</code> in the file name instead of putting the file into folders. For example, if you wanted the URL <code>/invoices/new</code> but didn't want it to be wrapped in the <code>app/routes/invoices.js</code> layout, don't put it in the <code>app/routes/invoices/new.js</code>, make a file named <code>app/routes/invoices.new.js</code>. The <code>.</code> will be changed to a <code>/</code> in the url.</p><p>If we created the file <code>app/routes/invoices.new.js</code> the component tree looks like this:</p><div><pre data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">&#x3C;<span style="color: var(--base0A)">App</span>>
</span><span class="codeblock-line" data-line-number="2">  &#x3C;<span style="color: var(--base0A)">InvoicesNew</span> />
</span><span class="codeblock-line" data-line-number="3">&#x3C;/<span style="color: var(--base0A)">App</span>>
</span></code></pre></div><p>If we created the file <code>app/routes/invoices/new.js</code>, the component tree looks like this:</p><div><pre data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">&#x3C;<span style="color: var(--base0A)">App</span>>
</span><span class="codeblock-line" data-line-number="2">  &#x3C;<span style="color: var(--base0A)">Invoices</span>>
</span><span class="codeblock-line" data-line-number="3">    &#x3C;<span style="color: var(--base0A)">New</span> />
</span><span class="codeblock-line" data-line-number="4">  &#x3C;/<span style="color: var(--base0A)">Invoices</span>>
</span><span class="codeblock-line" data-line-number="5">&#x3C;/<span style="color: var(--base0A)">App</span>>
</span></code></pre></div><p>Nested files = nested urls + nested layouts.</p><p>Flat files = nested urls + no layouts.</p><p>You can introduce nesting or non-nesting at any level of your routes, like <code>app/routes/invoices/$id.edit.js</code>, which matches the URL <code>/invoices/123/edit</code> but does not create nesting inside of <code>$id.js</code>.</p><h2 id="review"><a href="routing.html#review" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Review</h2><p>Assuming the following <code>app/routes/</code> directory:</p><pre><code>├── 404.js
├── contact.js
├── invoices
│   ├── $id.edit.js
│   ├── $id.js
│   └── late.js
├── invoices.js
└── invoices.new.js
</code></pre><p>Let's look at a few URLs and what the component tree looks like.</p><table>
<thead>
<tr>
<th>URL</th>
<th>Component Heirarchy</th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td><code>App.js > routes/index.js</code></td>
</tr>
<tr>
<td>/invoices</td>
<td><code>App.js > routes/invoices.js > routes/invoices/index.js</code></td>
</tr>
<tr>
<td>/invoices/late</td>
<td><code>App.js > routes/invoices.js > routes/invoices/late.js</code></td>
</tr>
<tr>
<td>/invoices/123</td>
<td><code>App.js > routes/invoices.js > routes/invoices/$id.js</code></td>
</tr>
<tr>
<td>/invoices/123/edit</td>
<td><code>App.js > routes/invoices.js > routes/invoices/$id.edit.js</code></td>
</tr>
<tr>
<td>/invoices/no/match</td>
<td><code>App.js > routes/404.js</code></td>
</tr>
<tr>
<td>/invoices/new</td>
<td><code>App.js > routes/invoices.new.js</code></td>
</tr>
<tr>
<td>/contact</td>
<td><code>App.js > routes/contact.js</code></td>
</tr>
</tbody>
</table><p>Nested files are nested layouts. Flat files are flat layouts.</p></div></div>
</div><div class="h-[90vh]"></div></div></div></div></div><script>
          if (!window.history.state || !window.history.state.key) {
            window.history.replaceState({ key: Math.random().toString(32).slice(2) }, null);
          }
          let STORAGE_KEY = "positions";
          try {
            let positions = JSON.parse(sessionStorage.getItem("positions") ?? '{}')
            let storedY = positions[window.history.state.key];
            if (typeof storedY === 'number') {
              window.scrollTo(0, storedY)
            }
          } catch(error) {
            console.error(error)
            sessionStorage.removeItem(STORAGE_KEY)
          }
        </script><link rel="modulepreload" href="../../../../build/_shared/chunk-N3KPM2EV.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-YTGA4KPU.js"/><link rel="modulepreload" href="../../../../build/root-63J2OI5O.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-GWT4HVMK.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-WV7HFGSM.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-43DMIVRF.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-AYAFUZYC.js"/><link rel="modulepreload" href="../../../../build/routes/docs/$lang.$version-WDGSSTHQ.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-CXMLCDHV.js"/><link rel="modulepreload" href="../../../../build/_shared/chunk-TEGZ72RU.js"/><link rel="modulepreload" href="../../../../build/routes/docs/$lang.$version/$-XTVJBAXD.js"/><script>window.__remixContext = {'matches':[{'params':{'lang':'en','version':'v1','*':'guides/routing'},'pathname':'/','route':{'id':'root','path':'','module':'/build/root-63J2OI5O.js','hasAction':false,'hasLoader':true,'hasCatchBoundary':true,'hasErrorBoundary':true}},{'params':{'lang':'en','version':'v1','*':'guides/routing'},'pathname':'/docs/en/v1','route':{'id':'routes/docs/$lang.$version','parentId':'root','path':'docs/:lang/:version','module':'/build/routes/docs/$lang.$version-WDGSSTHQ.js','imports':['/build/_shared/chunk-GWT4HVMK.js','/build/_shared/chunk-WV7HFGSM.js','/build/_shared/chunk-43DMIVRF.js','/build/_shared/chunk-AYAFUZYC.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false}},{'params':{'lang':'en','version':'v1','*':'guides/routing'},'pathname':'/docs/en/v1/guides/routing','route':{'id':'routes/docs/$lang.$version/$','parentId':'routes/docs/$lang.$version','path':'*','module':'/build/routes/docs/$lang.$version/$-XTVJBAXD.js','imports':['/build/_shared/chunk-CXMLCDHV.js','/build/_shared/chunk-TEGZ72RU.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false}}],'componentDidCatchEmulator':{'trackBoundaries':true,'trackCatchBoundaries':true,'catchBoundaryRouteId':'root','renderBoundaryRouteId':null,'loaderBoundaryRouteId':'root','error':undefined,'catch':undefined},'routeData':{'root':{'noIndex':false},'routes/docs/$lang.$version':[{'slug':'/api','title':'API','hasContent':false,'order':3,'disabled':false,'children':[{'slug':'/api/conventions','title':'Conventions','hasContent':true,'order':1,'disabled':false,'children':[]},{'slug':'/api/remix','title':'Remix Package','hasContent':true,'order':2,'disabled':false,'children':[]}]},{'slug':'/contributing','title':'Contributing','hasContent':true,'order':6,'disabled':false,'children':[]},{'slug':'/guides','title':'Guides','hasContent':false,'order':5,'disabled':false,'children':[{'slug':'/guides/accessibility','title':'Accessibility','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/api-routes','title':'API Routes','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/data-writes','title':'Data Writes','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/deployment','title':'Deployment','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/disabling-javascript','title':'Disabling JavaScript','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/envvars','title':'Environment Variables','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/errors','title':'Error Handling','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/mdx','title':'MDX','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/not-found','title':'Not Found Handling','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/optimistic-ui','title':'Optimistic UI','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/performance','title':'Performance','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/philosophy','title':'Philosophy','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/resource-routes','title':'Resource Routes','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/routing','title':'Routing','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/guides/styling','title':'Styling','hasContent':true,'order':null,'disabled':false,'children':[]}]},{'slug':'/other-api','title':'Other API','hasContent':false,'order':4,'disabled':false,'children':[{'slug':'/other-api/adapter','title':'@remix-run/{adapter}','hasContent':true,'order':2,'disabled':false,'children':[]},{'slug':'/other-api/constraints','title':'Module Constraints','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/other-api/dev','title':'@remix-run/dev (CLI)','hasContent':true,'order':1,'disabled':false,'children':[]},{'slug':'/other-api/fetch','title':'Web Fetch API','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/other-api/node','title':'@remix-run/node','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/other-api/react-router','title':'React Router v6','hasContent':true,'order':null,'disabled':false,'children':[]},{'slug':'/other-api/serve','title':'@remix-run/serve','hasContent':true,'order':null,'disabled':false,'children':[]}]},{'slug':'/tutorials','title':'Tutorials','hasContent':false,'order':2,'disabled':false,'children':[{'slug':'/tutorials/blog','title':'Developer Blog','hasContent':true,'order':1,'disabled':false,'children':[]},{'slug':'/tutorials/jokes','title':'Jokes App','hasContent':true,'order':2,'disabled':false,'children':[]}]}],'routes/docs/$lang.$version/$':{'id':'ckwdubp770406f0jiy6zjgdqc','filePath':'/guides/routing.md','md':'\n# Routing\n\nLet\'s talk about a concept in Remix that is critical to understand to get the most out of it: Nested Routes.\n\nWe consider nested routes our (not so) secret weapon. This feature of React Router allows Remix to know what you\'re going to render before you even render it. This lets us fetch data, stylesheets, and modules for the next page, or just the changed part of the page.\n\n## What are nested routes?\n\nLet\'s consider a UI to help us out. Imagine you\'re building invoicing software and the UI looks something like this:\n\nTODO: ADD THE SVG WITHOUT ANIMATION\n\nJust looking at the boxes it\'s pretty easy to indentify which pieces of the URL match which parts of the UI. As the user clicks between "Invoices | Projects | Customers", the top nav persists while the screen below changes. Down one level, as the user clicks between invoices the top nav and the invoice nav persist, while the invoice screen swaps out new data. And finally, as the user clicks between "Details | Activity", the details or activity screen will swap out for each other, but the rest of the UI remains unchanged.\n\nIt\'s a nested layout tree. In Remix, we call every one of these layouts a "route". You might be used to routes that have a 1:1 component-to-url mapping. In Remix, a single URL can match multiple, nested routes.\n\n## Defining nested routes\n\nNested folders create nested URLs. So if you put something in `app/routes/invoices/$id.js` that creates a URL like "/invoices/123". The URL maps identically to the file system. But there\'s more--nested routes in the file system create nested layouts in the UI. Let\'s check it out in our example app.\n\nTODO: ADD THE ANIMATED EXAMPLE\n\nThe root layout of this UI is "App.js" and it matches up with the domain name in the URL. This isn\'t a route yet, this is just the layout, it renders all the time, wrapping the entire UI. It holds the top nav with the links to "Invoices | Projects | Customers".\n\nThe next segment of the URL, and our next layout, is a file in `app/routes/invoices.js`. This controls the invoices on the left and wraps the details/activity views. This is our first layout route that matched the URL.\n\nThe nesting gets deeper as we look at the `app/routes/invoices/$id.js` component. This is another layout route that renders the Invoice number and links to the "Details | Activity" pages.\n\nAnd finally, our final route, `app/routes/invoices/$id/activity.js`. Sometime we call these routes that aren\'t layouts "leaf routes".\n\n## What it means\n\nBecause we know all of your routes up front, and we can match them before we render anything--we now know the most important components that are about to render before we render. This gives us fine-grained control over style, data, and module loading that you just can\'t get without nested routes.\n\nIn fact, when the user clicks on "Details" and "Activity", the only data we fetch is the data for changed portion of the app, rather than for every parent layout above it. It also gives us powerful control over which stylesheets to load and unload, which is a whole new set of tradeoffs for css that we find to be excellent.\n\nFor years we\'ve been trying to move all of this kind of thing to the components, but that gets difficult because you don\'t know what you\'re going to render until you render it! How can you preload data? How can you know which styles to apply, or which modules to start loading? Nested routes mapping to nested layouts gives us a cheat code. We mostly know what is about to be rendered, so we coupled your async requirements there. When the location changes, we can fetch the modules, styles, and data in parallel before the update (and before the server render, gotta get those data-driven meta tags!).\n\n## Index Routes\n\nAn Index Route is the route that renders when the layout\'s path is matched exactly. Again, from our example, our routes folder would look something like this:\n\n```\n\u251C\u2500\u2500 invoices\n\u2502   \u2514\u2500\u2500 $id.js\n\u2514\u2500\u2500 invoices.js\n```\n\nSo what renders at `https://example.com/invoices`? At the moment, nothing, it would look like this:\n\n## TODO: `<ExampleApp hideInvoice step={0} />`\n\nIf we add the file `invoices/index.js`, then that new index route will render at the path `/invoices` inside of the `invoices.js` component.\n\n```\n\u251C\u2500\u2500 invoices\n\u2502   \u251C\u2500\u2500 $id.js\n\u2502   \u2514\u2500\u2500 index.js\n\u2514\u2500\u2500 invoices.js\n```\n\nThe component tree would be:\n\n```tsx\n<App>\n  <Invoices>\n    <InvoicesIndex />\n  </Invoices>\n</App>\n```\n\n## Nested URLs without nesting layouts\n\nIf you want to add slashes to the URL, but not create a layout hierarchy, use `.` in the file name instead of putting the file into folders. For example, if you wanted the URL `/invoices/new` but didn\'t want it to be wrapped in the `app/routes/invoices.js` layout, don\'t put it in the `app/routes/invoices/new.js`, make a file named `app/routes/invoices.new.js`. The `.` will be changed to a `/` in the url.\n\nIf we created the file `app/routes/invoices.new.js` the component tree looks like this:\n\n```tsx\n<App>\n  <InvoicesNew />\n</App>\n```\n\nIf we created the file `app/routes/invoices/new.js`, the component tree looks like this:\n\n```tsx\n<App>\n  <Invoices>\n    <New />\n  </Invoices>\n</App>\n```\n\nNested files = nested urls + nested layouts.\n\nFlat files = nested urls + no layouts.\n\nYou can introduce nesting or non-nesting at any level of your routes, like `app/routes/invoices/$id.edit.js`, which matches the URL `/invoices/123/edit` but does not create nesting inside of `$id.js`.\n\n## Review\n\nAssuming the following `app/routes/` directory:\n\n```\n\u251C\u2500\u2500 404.js\n\u251C\u2500\u2500 contact.js\n\u251C\u2500\u2500 invoices\n\u2502   \u251C\u2500\u2500 $id.edit.js\n\u2502   \u251C\u2500\u2500 $id.js\n\u2502   \u2514\u2500\u2500 late.js\n\u251C\u2500\u2500 invoices.js\n\u2514\u2500\u2500 invoices.new.js\n```\n\nLet\'s look at a few URLs and what the component tree looks like.\n\n| URL                | Component Heirarchy                                         |\n| ------------------ | ----------------------------------------------------------- |\n| /                  | `App.js > routes/index.js`                                  |\n| /invoices          | `App.js > routes/invoices.js > routes/invoices/index.js`    |\n| /invoices/late     | `App.js > routes/invoices.js > routes/invoices/late.js`     |\n| /invoices/123      | `App.js > routes/invoices.js > routes/invoices/$id.js`      |\n| /invoices/123/edit | `App.js > routes/invoices.js > routes/invoices/$id.edit.js` |\n| /invoices/no/match | `App.js > routes/404.js`                                    |\n| /invoices/new      | `App.js > routes/invoices.new.js`                           |\n| /contact           | `App.js > routes/contact.js`                                |\n\nNested files are nested layouts. Flat files are flat layouts.\n','html':'<div class="md-toc-container"><div class="md-toc-nav" role="navigation"><ul class="toc">\n<li>\n<p><a href="routing.html#routing">Routing</a></p>\n<ul>\n<li><a href="routing.html#what-are-nested-routes">What are nested routes?</a></li>\n<li><a href="routing.html#defining-nested-routes">Defining nested routes</a></li>\n<li><a href="routing.html#what-it-means">What it means</a></li>\n<li><a href="routing.html#index-routes">Index Routes</a></li>\n<li><a href="routing.html#todo-exampleapp-hideinvoice-step0-">TODO: <code>&#x3C;ExampleApp hideInvoice step={0} /></code></a></li>\n<li><a href="routing.html#nested-urls-without-nesting-layouts">Nested URLs without nesting layouts</a></li>\n<li><a href="routing.html#review">Review</a></li>\n</ul>\n</li>\n</ul></div><div class="md-prose"><h1 id="routing"><a href="routing.html#routing" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Routing</h1><p>Let\'s talk about a concept in Remix that is critical to understand to get the most out of it: Nested Routes.</p><p>We consider nested routes our (not so) secret weapon. This feature of React Router allows Remix to know what you\'re going to render before you even render it. This lets us fetch data, stylesheets, and modules for the next page, or just the changed part of the page.</p><h2 id="what-are-nested-routes"><a href="routing.html#what-are-nested-routes" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>What are nested routes?</h2><p>Let\'s consider a UI to help us out. Imagine you\'re building invoicing software and the UI looks something like this:</p><p>TODO: ADD THE SVG WITHOUT ANIMATION</p><p>Just looking at the boxes it\'s pretty easy to indentify which pieces of the URL match which parts of the UI. As the user clicks between "Invoices | Projects | Customers", the top nav persists while the screen below changes. Down one level, as the user clicks between invoices the top nav and the invoice nav persist, while the invoice screen swaps out new data. And finally, as the user clicks between "Details | Activity", the details or activity screen will swap out for each other, but the rest of the UI remains unchanged.</p><p>It\'s a nested layout tree. In Remix, we call every one of these layouts a "route". You might be used to routes that have a 1:1 component-to-url mapping. In Remix, a single URL can match multiple, nested routes.</p><h2 id="defining-nested-routes"><a href="routing.html#defining-nested-routes" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Defining nested routes</h2><p>Nested folders create nested URLs. So if you put something in <code>app/routes/invoices/$id.js</code> that creates a URL like "/invoices/123". The URL maps identically to the file system. But there\'s more--nested routes in the file system create nested layouts in the UI. Let\'s check it out in our example app.</p><p>TODO: ADD THE ANIMATED EXAMPLE</p><p>The root layout of this UI is "App.js" and it matches up with the domain name in the URL. This isn\'t a route yet, this is just the layout, it renders all the time, wrapping the entire UI. It holds the top nav with the links to "Invoices | Projects | Customers".</p><p>The next segment of the URL, and our next layout, is a file in <code>app/routes/invoices.js</code>. This controls the invoices on the left and wraps the details/activity views. This is our first layout route that matched the URL.</p><p>The nesting gets deeper as we look at the <code>app/routes/invoices/$id.js</code> component. This is another layout route that renders the Invoice number and links to the "Details | Activity" pages.</p><p>And finally, our final route, <code>app/routes/invoices/$id/activity.js</code>. Sometime we call these routes that aren\'t layouts "leaf routes".</p><h2 id="what-it-means"><a href="routing.html#what-it-means" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>What it means</h2><p>Because we know all of your routes up front, and we can match them before we render anything--we now know the most important components that are about to render before we render. This gives us fine-grained control over style, data, and module loading that you just can\'t get without nested routes.</p><p>In fact, when the user clicks on "Details" and "Activity", the only data we fetch is the data for changed portion of the app, rather than for every parent layout above it. It also gives us powerful control over which stylesheets to load and unload, which is a whole new set of tradeoffs for css that we find to be excellent.</p><p>For years we\'ve been trying to move all of this kind of thing to the components, but that gets difficult because you don\'t know what you\'re going to render until you render it! How can you preload data? How can you know which styles to apply, or which modules to start loading? Nested routes mapping to nested layouts gives us a cheat code. We mostly know what is about to be rendered, so we coupled your async requirements there. When the location changes, we can fetch the modules, styles, and data in parallel before the update (and before the server render, gotta get those data-driven meta tags!).</p><h2 id="index-routes"><a href="routing.html#index-routes" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Index Routes</h2><p>An Index Route is the route that renders when the layout\'s path is matched exactly. Again, from our example, our routes folder would look something like this:</p><pre><code>\u251C\u2500\u2500 invoices\n\u2502   \u2514\u2500\u2500 $id.js\n\u2514\u2500\u2500 invoices.js\n</code></pre><p>So what renders at <code>https://example.com/invoices</code>? At the moment, nothing, it would look like this:</p><h2 id="todo-exampleapp-hideinvoice-step0-"><a href="routing.html#todo-exampleapp-hideinvoice-step0-" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>TODO: <code>&#x3C;ExampleApp hideInvoice step={0} /></code></h2><p>If we add the file <code>invoices/index.js</code>, then that new index route will render at the path <code>/invoices</code> inside of the <code>invoices.js</code> component.</p><pre><code>\u251C\u2500\u2500 invoices\n\u2502   \u251C\u2500\u2500 $id.js\n\u2502   \u2514\u2500\u2500 index.js\n\u2514\u2500\u2500 invoices.js\n</code></pre><p>The component tree would be:</p><div><pre data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">&#x3C;<span style="color: var(--base0A)">App</span>>\n</span><span class="codeblock-line" data-line-number="2">  &#x3C;<span style="color: var(--base0A)">Invoices</span>>\n</span><span class="codeblock-line" data-line-number="3">    &#x3C;<span style="color: var(--base0A)">InvoicesIndex</span> />\n</span><span class="codeblock-line" data-line-number="4">  &#x3C;/<span style="color: var(--base0A)">Invoices</span>>\n</span><span class="codeblock-line" data-line-number="5">&#x3C;/<span style="color: var(--base0A)">App</span>>\n</span></code></pre></div><h2 id="nested-urls-without-nesting-layouts"><a href="routing.html#nested-urls-without-nesting-layouts" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Nested URLs without nesting layouts</h2><p>If you want to add slashes to the URL, but not create a layout hierarchy, use <code>.</code> in the file name instead of putting the file into folders. For example, if you wanted the URL <code>/invoices/new</code> but didn\'t want it to be wrapped in the <code>app/routes/invoices.js</code> layout, don\'t put it in the <code>app/routes/invoices/new.js</code>, make a file named <code>app/routes/invoices.new.js</code>. The <code>.</code> will be changed to a <code>/</code> in the url.</p><p>If we created the file <code>app/routes/invoices.new.js</code> the component tree looks like this:</p><div><pre data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">&#x3C;<span style="color: var(--base0A)">App</span>>\n</span><span class="codeblock-line" data-line-number="2">  &#x3C;<span style="color: var(--base0A)">InvoicesNew</span> />\n</span><span class="codeblock-line" data-line-number="3">&#x3C;/<span style="color: var(--base0A)">App</span>>\n</span></code></pre></div><p>If we created the file <code>app/routes/invoices/new.js</code>, the component tree looks like this:</p><div><pre data-line-numbers="true" data-lang="tsx" style="color: var(--base05);background-color: var(--base00)"><code><span class="codeblock-line" data-line-number="1">&#x3C;<span style="color: var(--base0A)">App</span>>\n</span><span class="codeblock-line" data-line-number="2">  &#x3C;<span style="color: var(--base0A)">Invoices</span>>\n</span><span class="codeblock-line" data-line-number="3">    &#x3C;<span style="color: var(--base0A)">New</span> />\n</span><span class="codeblock-line" data-line-number="4">  &#x3C;/<span style="color: var(--base0A)">Invoices</span>>\n</span><span class="codeblock-line" data-line-number="5">&#x3C;/<span style="color: var(--base0A)">App</span>>\n</span></code></pre></div><p>Nested files = nested urls + nested layouts.</p><p>Flat files = nested urls + no layouts.</p><p>You can introduce nesting or non-nesting at any level of your routes, like <code>app/routes/invoices/$id.edit.js</code>, which matches the URL <code>/invoices/123/edit</code> but does not create nesting inside of <code>$id.js</code>.</p><h2 id="review"><a href="routing.html#review" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Review</h2><p>Assuming the following <code>app/routes/</code> directory:</p><pre><code>\u251C\u2500\u2500 404.js\n\u251C\u2500\u2500 contact.js\n\u251C\u2500\u2500 invoices\n\u2502   \u251C\u2500\u2500 $id.edit.js\n\u2502   \u251C\u2500\u2500 $id.js\n\u2502   \u2514\u2500\u2500 late.js\n\u251C\u2500\u2500 invoices.js\n\u2514\u2500\u2500 invoices.new.js\n</code></pre><p>Let\'s look at a few URLs and what the component tree looks like.</p><table>\n<thead>\n<tr>\n<th>URL</th>\n<th>Component Heirarchy</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>/</td>\n<td><code>App.js > routes/index.js</code></td>\n</tr>\n<tr>\n<td>/invoices</td>\n<td><code>App.js > routes/invoices.js > routes/invoices/index.js</code></td>\n</tr>\n<tr>\n<td>/invoices/late</td>\n<td><code>App.js > routes/invoices.js > routes/invoices/late.js</code></td>\n</tr>\n<tr>\n<td>/invoices/123</td>\n<td><code>App.js > routes/invoices.js > routes/invoices/$id.js</code></td>\n</tr>\n<tr>\n<td>/invoices/123/edit</td>\n<td><code>App.js > routes/invoices.js > routes/invoices/$id.edit.js</code></td>\n</tr>\n<tr>\n<td>/invoices/no/match</td>\n<td><code>App.js > routes/404.js</code></td>\n</tr>\n<tr>\n<td>/invoices/new</td>\n<td><code>App.js > routes/invoices.new.js</code></td>\n</tr>\n<tr>\n<td>/contact</td>\n<td><code>App.js > routes/contact.js</code></td>\n</tr>\n</tbody>\n</table><p>Nested files are nested layouts. Flat files are flat layouts.</p></div></div>\n','lang':'en','hasContent':true,'createdAt':'2021-11-24T18:08:31.315Z','updatedAt':'2021-11-24T22:37:58.189Z','title':'Routing','order':null,'disabled':false,'siblingLinks':false,'published':null,'description':'In Remix, routes are more than just the page. When routes are nested we\'re able to know a little more about your app than just a single page, and do a lot more because of it.','hidden':false,'toc':true,'githubRefId':'refs/heads/main'}},'actionData':undefined};</script><script src="../../../../build/manifest-10D43C8B.js"></script><script type="module">import * as route0 from "/build/root-63J2OI5O.js";
import * as route1 from "/build/routes/docs/$lang.$version-WDGSSTHQ.js";
import * as route2 from "/build/routes/docs/$lang.$version/$-XTVJBAXD.js";
window.__remixRouteModules = {"root":route0,"routes/docs/$lang.$version":route1,"routes/docs/$lang.$version/$":route2};</script><script src="../../../../build/entry.client-42KZW6ZZ.js" type="module"></script></body></html>